import{d as J,r as m,s as A,H as k,e as s,f as u,i as b,g as W,u as e,m as R,G,J as q,F as Y,v as Z,t as h,h as d,l as w,j as I,n as $,A as N,T as c,x as ee,y as ae,K as te,_ as se}from"./index-7771f8dc.js";import{T as a,E as re,a as ne,A as oe,b as le,c as ie,d as ce,N as ue,M as de,e as pe,L as ve,f as Te,R as be,S as ge,C as ye,g as p}from"./ExportCSVComponent-3e72cf8a.js";import{M as me}from"./MixedTxnDataTable-8b4dc803.js";import"./column.esm-8d98e469.js";import"./proximax-logo-gray-d9718656.js";const S=C=>(ee("data-v-5bf67df9"),C=C(),ae(),C),xe={class:"flex justify-between"},fe=S(()=>b("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Transactions",-1)),ke={class:"bg-gray-50"},Ce=S(()=>b("option",{value:"all",class:"text-sm"},"All",-1)),Ae=["value"],_e={key:0},Ee=S(()=>b("div",{class:"flex justify-center items-center border-gray-400 mt-5"},[b("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),b("span",{class:"text-tsm"},"Fetching transactions")],-1)),he=[Ee],Ne={key:1},Se={key:14,class:"sm:flex sm:justify-between my-5 mb-15"},Re={class:"text-xs text-gray-700 mb-3 sm:mb-0 text-center sm:text-left"},Ge=te('<option value="10" data-v-5bf67df9>10</option><option value="20" data-v-5bf67df9>20</option><option value="30" data-v-5bf67df9>30</option><option value="40" data-v-5bf67df9>40</option><option value="50" data-v-5bf67df9>50</option>',5),we=[Ge],Ie={class:"sm:flex sm:items-center text-center sm:text-right"},De={key:1,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Fe={key:3,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Oe={class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs"},Le={key:5,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Me={key:7,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Pe=J({__name:"ViewTransactionList",setup(C){const _=$(),D=_==null?void 0:_.appContext.config.globalProperties.emitter;let r=m("all");const x=m(!0);let F=Object.entries(a).map(([t,n])=>({label:t,value:n}));const l=m(20),g=m(1),f=m(0),O=A(()=>g.value>1),L=A(()=>g.value>1),M=A(()=>f.value-g.value>0),P=A(()=>g.value<f.value),H=()=>{g.value=1,y()},V=()=>{--g.value,y()},K=()=>{++g.value,y()},j=()=>{g.value=f.value,y()},B=()=>{g.value=1,y()},o=m([]),i=m(void 0);let v=k.getTransactionGroupType(),U=k.createTransactionFieldOrder(k.getTransactionSortField().BLOCK,k.getQueryParamOrder_v2().DESC),y=async()=>{if(x.value=!0,!N.isReady){setTimeout(y,1e3);return}if(!N.chainAPI)return;let t=k.createTransactionQueryParams(),n=await N.chainAPI.chainAPI.getBlockchainHeight();t.pageSize=l.value,t.pageNumber=g.value,r.value==null||r.value=="all"||r.value==a.ASSET?t.embedded=!1:t.embedded=!0;let T=n-2e5;T<=0&&(T=1),t.fromHeight=T,i.value!=null&&(t.type=i.value),t.updateFieldOrder(U);let E=await c.searchTxns(v.CONFIRMED,t);if(E.transactions.length>0){let z=await X(E.transactions);o.value=z,f.value=E.pagination.totalPages}else o.value=[];x.value=!1};y();const Q=()=>{switch(x.value=!0,o.value=[],r.value){case a.TRANSFER:i.value=p.getTransferTypes();break;case a.ACCOUNT:i.value=p.getAccountTypes();break;case a.ASSET:i.value=p.getAssetTypes();break;case a.ALIAS:i.value=p.getAliasTypes();break;case a.NAMESPACE:i.value=p.getNamespaceTypes();break;case a.METADATA:i.value=p.getMetadataTypes();break;case a.CHAIN:i.value=p.getChainTypes();break;case a.EXCHANGE:i.value=p.getExchangeTypes();break;case a.AGGREGATE:i.value=p.getAggregateTypes();break;case a.LINK:i.value=p.getLinkTypes();break;case a.LOCK:i.value=p.getLockTypes();break;case a.SECRET:i.value=p.getSecretTypes();break;case a.RESTRICTION:i.value=p.getRestrictionTypes();break;default:i.value=void 0;break}y()},X=async t=>{let n=[];switch(r.value){case a.TRANSFER:n=await c.formatConfirmedMixedTxns(t);break;case a.ACCOUNT:n=await c.formatConfirmedAccountTransaction(t);break;case a.AGGREGATE:n=await c.formatConfirmedAggregateTransaction(t);break;case a.RESTRICTION:n=await c.formatConfirmedRestrictionTransaction(t);break;case a.SECRET:n=await c.formatConfirmedSecretTransaction(t);break;case a.ALIAS:n=await c.formatConfirmedAliasTransaction(t);break;case a.ASSET:n=await c.formatConfirmedAssetTransaction(t);break;case a.METADATA:n=await c.formatConfirmedMetadataTransaction(t);break;case a.CHAIN:n=await c.formatConfirmedChainTransaction(t);break;case a.EXCHANGE:n=await c.formatConfirmedExchangeTransaction(t);break;case a.LINK:n=await c.formatConfirmedLinkTransaction(t);break;case a.LOCK:n=await c.formatConfirmedLockTransaction(t);break;case a.NAMESPACE:n=await c.formatConfirmedNamespaceTransaction(t);break;default:n=await c.formatConfirmedMixedTxns(t);break}return n};return D.on("CHANGE_NETWORK",t=>{x.value=!0,t&&y()}),(t,n)=>(s(),u("div",null,[b("div",xe,[fe,b("div",ke,[W(re,{selectedTxnType:e(r),transactions:o.value,disabled:x.value||o.value.length==0},null,8,["selectedTxnType","transactions","disabled"]),R(b("select",{"onUpdate:modelValue":n[0]||(n[0]=T=>q(r)?r.value=T:r=T),onChange:Q,class:"border border-gray-200 px-2 py-1 focus:outline-none"},[Ce,(s(!0),u(Y,null,Z(e(F),T=>(s(),u("option",{key:T.value,value:T.value,class:"text-sm"},h(T.label),9,Ae))),128))],544),[[G,e(r)]])])]),x.value?(s(),u("div",_e,he)):(s(),u("div",Ne,[e(r)=="all"?(s(),d(me,{key:0,transactions:o.value,pages:l.value},null,8,["transactions","pages"])):e(r)===e(a).TRANSFER?(s(),d(ne,{key:1,transactions:o.value,pages:l.value},null,8,["transactions","pages"])):e(r)===e(a).ACCOUNT?(s(),d(oe,{key:2,transactions:o.value,pages:l.value},null,8,["transactions","pages"])):e(r)===e(a).AGGREGATE?(s(),d(le,{key:3,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).ALIAS?(s(),d(ie,{key:4,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).ASSET?(s(),d(ce,{key:5,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).NAMESPACE?(s(),d(ue,{key:6,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).METADATA?(s(),d(de,{key:7,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).EXCHANGE?(s(),d(pe,{key:8,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).LOCK?(s(),d(ve,{key:9,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).LINK?(s(),d(Te,{key:10,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).RESTRICTION?(s(),d(be,{key:11,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).SECRET?(s(),d(ge,{key:12,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(r)===e(a).CHAIN?(s(),d(ye,{key:13,transactions:o.value,pages:l.value,selectedGroupType:e(v).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):w("v-if",!0),f.value>1&&o.value.length>0?(s(),u("div",Se,[b("div",Re,[I(" Show "),R(b("select",{"onUpdate:modelValue":n[1]||(n[1]=T=>l.value=T),class:"border border-gray-300 rounded-md p-1",onChange:B},we,544),[[G,l.value]]),I(" Records ")]),b("div",Ie,[e(O)?(s(),u("div",{key:0,onClick:H,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," First ")):(s(),u("div",De," First ")),e(L)?(s(),u("div",{key:2,onClick:V,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Previous ")):(s(),u("div",Fe," Previous ")),b("div",Oe," Page "+h(g.value)+" of "+h(f.value),1),e(M)?(s(),u("div",{key:4,onClick:K,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Next ")):(s(),u("div",Le," Next ")),e(P)?(s(),u("div",{key:6,onClick:j,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs ml-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Last ")):(s(),u("div",Me," Last "))])])):w("v-if",!0)]))]))}});const Ue=se(Pe,[["__scopeId","data-v-5bf67df9"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewTransactionList.vue"]]);export{Ue as default};
