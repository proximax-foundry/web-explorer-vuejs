import{d as ce,r as v,a as ye,o as Te,H as I,s as M,A as $,G as me,C as fe,b as he,c as ge,e as a,f as c,g as H,w as p,j as b,h as r,i as n,m as L,t as u,u as e,l as y,F as X,v as U,_ as ue,J as ie,K as ke,n as _e,T as f,x as Ee,y as Ae,L as Ce}from"./index-985348e9.js";import{T as t,E as Ge,a as Ne,A as we,b as Se,c as Ie,d as Re,N as De,M as Fe,e as Le,L as Oe,f as Pe,R as Me,S as He,C as Ve,g as k}from"./ExportCSVComponent-f2c24448.js";import{M as $e}from"./MixedTxnDataTable-b88b61e3.js";import{s as S,a as Be}from"./column.esm-4deb037c.js";import"./proximax-logo-gray-d9718656.js";const Ke=n("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1"}," TX Hash ",-1),Xe={class:"text-xs break-all hover:underline hover:text-blue-primary truncate inline-flex text-ellipsis overflow-hidden w-44"},Ue=n("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," Type ",-1),je={class:"flex items-center"},ze={class:"uppercase font-bold text-xs mr-2"},Qe=n("div",{class:"text-xs text-gray-300 font-bold mb-1 mt-5"},"Block",-1),We={class:"flex items-center"},Je={key:0},qe=n("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1"}," Timestamp ",-1),Ye={class:"uppercase font-bold text-xs"},Ze=n("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," OFFERS(GIVE/GET/DURATION) ",-1),ea={class:"flex items-center"},aa={key:0,class:"mr-2"},ta={class:"inline-block"},sa={key:0,class:"mr-2"},oa={class:"inline-block"},na={key:0},ra={class:"text-ellipsis overflow-hidden w-44"},la={class:"text-xs"},ia={class:"text-xs"},ca={class:"text-xs"},ua={key:0},da={key:0,class:"mr-2"},pa={class:"inline-block"},va={key:0,class:"mr-2"},xa={class:"inline-block"},ba={key:0},ya=ce({__name:"SdaExchangeTxnDataTable",props:{transactions:Array,pages:Number,selectedGroupType:String},setup(C){const g=v(!1),O=()=>{window.innerWidth<1024?g.value=!1:g.value=!0};O(),ye(()=>{window.removeEventListener("resize",O)}),Te(()=>{window.addEventListener("resize",O)});const o=I.getTransactionGroupType(),w=M(()=>$.nativeToken.label),V=R=>I.convertDisplayDateTimeFormat24(R);let x=new me(fe.chainNetworkName);x.init();let _=parseInt(x.blockGenerationTargetTime);const G=R=>R/(60/_*60)/24;return(R,B)=>{const h=he("router-link"),D=ge("tooltip");return a(),c("div",null,[H(e(Be),{value:C.transactions,paginator:!1,rows:Number(C.pages),scrollDirection:"horizontal",alwaysShowPaginator:!1,responsiveLayout:"scroll",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{empty:p(()=>[b(" No transaction found ")]),loading:p(()=>[b(" Fetching transactions ")]),default:p(()=>[g.value?y("v-if",!0):(a(),r(e(S),{key:0,style:{width:"200px"}},{body:p(({data:i})=>[n("div",null,[Ke,H(h,{class:"uppercase font-bold text-xs block text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewTransaction",params:{hash:i.hash}}},{default:p(()=>[L((a(),c("span",Xe,[b(u(i.hash),1)])),[[D,i.hash,void 0,{right:!0}]]),b("... ")]),_:2},1032,["to"])]),n("div",null,[Ue,n("div",je,[n("div",ze,u(i.typeName),1)])]),n("div",null,[Qe,n("div",We,[H(h,{to:{name:"ViewBlock",params:{blockHeight:i.block}},class:"text-blue-600 hover:text-blue-primary hover:underline text-xs"},{default:p(()=>[b(u(i.block),1)]),_:2},1032,["to"])])])]),_:1})),g.value?y("v-if",!0):(a(),r(e(S),{key:1,style:{width:"200px"}},{body:p(({data:i})=>[C.selectedGroupType===e(o).CONFIRMED?(a(),c("div",Je,[qe,n("div",Ye,u(V(i.timestamp)),1)])):y("v-if",!0),n("div",null,[Ze,n("div",ea,[(a(!0),c(X,null,U(i.sdaExchange,(s,P)=>L((a(),c("span",{class:"inline-block bg-blue-100 font-bold text-xs py-1 px-2 my-1 mx-1 rounded",key:P},[n("div",null,[s.amountGive?(a(),c("span",aa,u(s.amountGive),1)):y("v-if",!0),n("div",ta,[s.sdaGiveNamespace?(a(),r(h,{key:0,to:{name:"ViewAsset",params:{id:s.sdaIdGive}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaGiveNamespace),1)]),_:2},1032,["to"])):(a(),r(h,{key:1,to:{name:"ViewAsset",params:{id:s.sdaIdGive}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaIdGive),1)]),_:2},1032,["to"]))])]),n("div",null,[s.amountGet?(a(),c("span",sa,u(s.amountGet),1)):y("v-if",!0),n("div",oa,[s.sdaGetNamespace?(a(),r(h,{key:0,to:{name:"ViewAsset",params:{id:s.sdaIdGet}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaGetNamespace),1)]),_:2},1032,["to"])):(a(),r(h,{key:1,to:{name:"ViewAsset",params:{id:s.sdaIdGet}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaIdGet),1)]),_:2},1032,["to"]))])]),s.duration?(a(),c("div",na,u(s.duration?s.duration+" Block"+(s.duration>1?"s":""):"-"),1)):y("v-if",!0)])),[[D,{value:`<tiptext>Approximately ${G(s.duration)} Day${G(s.duration)>1?"s":""}</tiptext>`,disabled:s.duration===void 0,escape:!0},void 0,{left:!0}]])),128))])])]),_:1})),g.value?(a(),r(e(S),{key:2,field:"hash",header:"TX Hash",headerStyle:"width:100px;text-transform:uppercase"},{body:p(({data:i})=>[L((a(),r(h,{to:{name:"ViewTransaction",params:{hash:i.hash}},class:"text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:p(()=>[n("span",ra,u(i.hash),1),b("...")]),_:2},1032,["to"])),[[D,i.hash,void 0,{bottom:!0}]])]),_:1})):y("v-if",!0),C.selectedGroupType===e(o).CONFIRMED&&g.value?(a(),r(e(S),{key:3,field:"timestamp",header:"Timestamp",headerStyle:"width:110px;text-transform:uppercase"},{body:p(({data:i})=>[n("span",la,u(V(i.timestamp)),1)]),_:1})):y("v-if",!0),g.value?(a(),r(e(S),{key:4,field:"typeName",header:"Type",headerStyle:"width:110px;text-transform:uppercase"},{body:p(({data:i})=>[n("span",ia,u(i.typeName),1)]),_:1})):y("v-if",!0),C.selectedGroupType===e(o).CONFIRMED&&g.value?(a(),r(e(S),{key:5,field:"block",header:"Block",headerStyle:"width:110px;text-transform:uppercase"},{body:p(({data:i})=>[H(h,{to:{name:"ViewBlock",params:{blockHeight:i.block}},class:"text-blue-600 hover:text-blue-primary hover:underline text-xs"},{default:p(()=>[b(u(i.block),1)]),_:2},1032,["to"])]),_:1})):y("v-if",!0),C.selectedGroupType===e(o).CONFIRMED&&g.value?(a(),r(e(S),{key:6,header:"TX FEE",headerStyle:"width:110px;text-transform:uppercase"},{body:p(({data:i})=>[n("div",ca,[b(u(i.fee)+" ",1),i.fee==0||i.fee>0?(a(),c("b",ua,u(e(w)),1)):y("v-if",!0)])]),_:1})):y("v-if",!0),g.value?(a(),r(e(S),{key:7,header:"OFFERS(GIVE/GET/DURATION)",headerStyle:"width:150px"},{body:p(({data:i})=>[(a(!0),c(X,null,U(i.sdaExchange,(s,P)=>L((a(),c("span",{class:"inline-block bg-blue-100 font-bold text-xs py-1 px-2 my-1 mx-1 rounded",key:P},[n("div",null,[s.amountGive?(a(),c("span",da,u(s.amountGive),1)):y("v-if",!0),n("div",pa,[s.sdaGiveNamespace?(a(),r(h,{key:0,to:{name:"ViewAsset",params:{id:s.sdaIdGive}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaGiveNamespace),1)]),_:2},1032,["to"])):(a(),r(h,{key:1,to:{name:"ViewAsset",params:{id:s.sdaIdGive}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaIdGive),1)]),_:2},1032,["to"]))])]),n("div",null,[s.amountGet?(a(),c("span",va,u(s.amountGet),1)):y("v-if",!0),n("div",xa,[s.sdaGetNamespace?(a(),r(h,{key:0,to:{name:"ViewAsset",params:{id:s.sdaIdGet}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaGetNamespace),1)]),_:2},1032,["to"])):(a(),r(h,{key:1,to:{name:"ViewAsset",params:{id:s.sdaIdGet}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:p(()=>[b(u(s.sdaIdGet),1)]),_:2},1032,["to"]))])]),s.duration?(a(),c("div",ba,u(s.duration?s.duration+" Block"+(s.duration>1?"s":""):"-"),1)):y("v-if",!0)])),[[D,{value:`<tiptext>Approximately ${G(s.duration)} Day${G(s.duration)>1?"s":""}</tiptext>`,disabled:s.duration===void 0,escape:!0},void 0,{left:!0}]])),128))]),_:1})):y("v-if",!0)]),_:1},8,["value","rows"])])}}}),Ta=ue(ya,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/txnDataTables/SdaExchangeTxnDataTable.vue"]]),j=C=>(Ee("data-v-5bf67df9"),C=C(),Ae(),C),ma={class:"flex justify-between"},fa=j(()=>n("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Transactions",-1)),ha={class:"bg-gray-50"},ga=j(()=>n("option",{value:"all",class:"text-sm"},"All",-1)),ka=["value"],_a={key:0},Ea=j(()=>n("div",{class:"flex justify-center items-center border-gray-400 mt-5"},[n("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),n("span",{class:"text-tsm"},"Fetching transactions")],-1)),Aa=[Ea],Ca={key:1},Ga={key:15,class:"sm:flex sm:justify-between my-5 mb-15"},Na={class:"text-xs text-gray-700 mb-3 sm:mb-0 text-center sm:text-left"},wa=Ce('<option value="10" data-v-5bf67df9>10</option><option value="20" data-v-5bf67df9>20</option><option value="30" data-v-5bf67df9>30</option><option value="40" data-v-5bf67df9>40</option><option value="50" data-v-5bf67df9>50</option>',5),Sa=[wa],Ia={class:"sm:flex sm:items-center text-center sm:text-right"},Ra={key:1,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Da={key:3,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Fa={class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs"},La={key:5,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Oa={key:7,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Pa=ce({__name:"ViewTransactionList",setup(C){const g=_e(),O=g==null?void 0:g.appContext.config.globalProperties.emitter;let o=v("all");const w=v(!0);let V=Object.entries(t).map(([l,d])=>({label:l,value:d}));const x=v(20),_=v(1),G=v(0),R=M(()=>_.value>1),B=M(()=>_.value>1),h=M(()=>G.value-_.value>0),D=M(()=>_.value<G.value),i=()=>{_.value=1,N()},s=()=>{--_.value,N()},P=()=>{++_.value,N()},de=()=>{_.value=G.value,N()},pe=()=>{_.value=1,N()},F=v([]),z=v([]),Q=v([]),W=v([]),J=v([]),q=v([]),Y=v([]),Z=v([]),ee=v([]),ae=v([]),te=v([]),se=v([]),oe=v([]),ne=v([]),re=v([]),le=v([]),T=v(void 0);let E=I.getTransactionGroupType(),ve=I.createTransactionFieldOrder(I.getTransactionSortField().BLOCK,I.getQueryParamOrder_v2().DESC),N=async()=>{if(w.value=!0,!$.isReady){setTimeout(N,1e3);return}if(!$.chainAPI)return;let l=I.createTransactionQueryParams(),d=await $.chainAPI.chainAPI.getBlockchainHeight();l.pageSize=x.value,l.pageNumber=_.value,o.value==null||o.value=="all"?l.embedded=!1:l.embedded=!0;let A=d-2e5;A<=0&&(A=1),l.fromHeight=A,T.value!=null&&(l.type=T.value),l.updateFieldOrder(ve);let K=await f.searchTxns(E.CONFIRMED,l);if(K.transactions.length>0){let m=await be(K.transactions);F.value=m,o.value=="all"&&(z.value=m),o.value==t.TRANSFER&&(Q.value=m),o.value==t.ACCOUNT&&(W.value=m),o.value==t.AGGREGATE&&(J.value=m),o.value==t.ALIAS&&(q.value=m),o.value==t.ASSET&&(Y.value=m),o.value==t.NAMESPACE&&(Z.value=m),o.value==t.METADATA&&(ee.value=m),o.value==t.EXCHANGE&&(ae.value=m),o.value==t.LOCK&&(te.value=m),o.value==t.LINK&&(se.value=m),o.value==t.RESTRICTION&&(oe.value=m),o.value==t.SECRET&&(ne.value=m),o.value==t.CHAIN&&(re.value=m),o.value==t["SDA EXCHANGE"]&&(le.value=m),G.value=K.pagination.totalPages}else F.value=[];w.value=!1};N();const xe=()=>{switch(w.value=!0,F.value=[],o.value){case t.TRANSFER:T.value=k.getTransferTypes();break;case t.ACCOUNT:T.value=k.getAccountTypes();break;case t.ASSET:T.value=k.getAssetTypes();break;case t.ALIAS:T.value=k.getAliasTypes();break;case t.NAMESPACE:T.value=k.getNamespaceTypes();break;case t.METADATA:T.value=k.getMetadataTypes();break;case t.CHAIN:T.value=k.getChainTypes();break;case t.EXCHANGE:T.value=k.getExchangeTypes();break;case t.AGGREGATE:T.value=k.getAggregateTypes();break;case t.LINK:T.value=k.getLinkTypes();break;case t.LOCK:T.value=k.getLockTypes();break;case t.SECRET:T.value=k.getSecretTypes();break;case t.RESTRICTION:T.value=k.getRestrictionTypes();break;case t["SDA EXCHANGE"]:T.value=k.getSdaExchangeTypes();break;default:T.value=void 0;break}N()},be=async l=>{let d=[];switch(o.value){case t.TRANSFER:d=await f.formatConfirmedMixedTxns(l);break;case t.ACCOUNT:d=await f.formatConfirmedAccountTransaction(l);break;case t.AGGREGATE:d=await f.formatConfirmedAggregateTransaction(l);break;case t.RESTRICTION:d=await f.formatConfirmedRestrictionTransaction(l);break;case t.SECRET:d=await f.formatConfirmedSecretTransaction(l);break;case t.ALIAS:d=await f.formatConfirmedAliasTransaction(l);break;case t.ASSET:d=await f.formatConfirmedAssetTransaction(l);break;case t.METADATA:d=await f.formatConfirmedMetadataTransaction(l);break;case t.CHAIN:d=await f.formatConfirmedChainTransaction(l);break;case t.EXCHANGE:d=await f.formatConfirmedExchangeTransaction(l);break;case t.LINK:d=await f.formatConfirmedLinkTransaction(l);break;case t.LOCK:d=await f.formatConfirmedLockTransaction(l);break;case t.NAMESPACE:d=await f.formatConfirmedNamespaceTransaction(l);break;case t["SDA EXCHANGE"]:d=await f.formatConfirmedSdaExchangeTransaction(l);break;default:d=await f.formatConfirmedMixedTxns(l);break}return d};return O.on("CHANGE_NETWORK",l=>{w.value=!0,l&&N()}),(l,d)=>(a(),c("div",null,[n("div",ma,[fa,n("div",ha,[H(Ge,{selectedTxnType:e(o),transactions:F.value,disabled:w.value||F.value.length==0},null,8,["selectedTxnType","transactions","disabled"]),L(n("select",{"onUpdate:modelValue":d[0]||(d[0]=A=>ke(o)?o.value=A:o=A),onChange:xe,class:"border border-gray-200 px-2 py-1 focus:outline-none"},[ga,(a(!0),c(X,null,U(e(V),A=>(a(),c("option",{key:A.value,value:A.value,class:"text-sm"},u(A.label),9,ka))),128))],544),[[ie,e(o)]])])]),w.value?(a(),c("div",_a,Aa)):(a(),c("div",Ca,[e(o)=="all"?(a(),r($e,{key:0,transactions:z.value,pages:x.value},null,8,["transactions","pages"])):e(o)===e(t).TRANSFER?(a(),r(Ne,{key:1,transactions:Q.value,pages:x.value},null,8,["transactions","pages"])):e(o)===e(t).ACCOUNT?(a(),r(we,{key:2,transactions:W.value,pages:x.value},null,8,["transactions","pages"])):e(o)===e(t).AGGREGATE?(a(),r(Se,{key:3,transactions:J.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).ALIAS?(a(),r(Ie,{key:4,transactions:q.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).ASSET?(a(),r(Re,{key:5,transactions:Y.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).NAMESPACE?(a(),r(De,{key:6,transactions:Z.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).METADATA?(a(),r(Fe,{key:7,transactions:ee.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).EXCHANGE?(a(),r(Le,{key:8,transactions:ae.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).LOCK?(a(),r(Oe,{key:9,transactions:te.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).LINK?(a(),r(Pe,{key:10,transactions:se.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).RESTRICTION?(a(),r(Me,{key:11,transactions:oe.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).SECRET?(a(),r(He,{key:12,transactions:ne.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t).CHAIN?(a(),r(Ve,{key:13,transactions:re.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(o)===e(t)["SDA EXCHANGE"]?(a(),r(Ta,{key:14,transactions:le.value,pages:x.value,selectedGroupType:e(E).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):y("v-if",!0),G.value>1&&F.value.length>0?(a(),c("div",Ga,[n("div",Na,[b(" Show "),L(n("select",{"onUpdate:modelValue":d[1]||(d[1]=A=>x.value=A),class:"border border-gray-300 rounded-md p-1",onChange:pe},Sa,544),[[ie,x.value]]),b(" Records ")]),n("div",Ia,[e(R)?(a(),c("div",{key:0,onClick:i,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," First ")):(a(),c("div",Ra," First ")),e(B)?(a(),c("div",{key:2,onClick:s,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Previous ")):(a(),c("div",Da," Previous ")),n("div",Fa," Page "+u(_.value)+" of "+u(G.value),1),e(h)?(a(),c("div",{key:4,onClick:P,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Next ")):(a(),c("div",La," Next ")),e(D)?(a(),c("div",{key:6,onClick:de,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs ml-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Last ")):(a(),c("div",Oa," Last "))])])):y("v-if",!0)]))]))}});const Ka=ue(Pa,[["__scopeId","data-v-5bf67df9"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewTransactionList.vue"]]);export{Ka as default};
