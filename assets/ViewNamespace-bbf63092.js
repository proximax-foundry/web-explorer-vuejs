import{d as K,r as y,o as L,a as U,e as s,f as a,g as N,w as r,h as n,i as e,j as i,t as o,l as d,u as x,_ as V,s as S,C as T,b as R,z as w,F as I,v as H,n as z,A as B,N as D}from"./index-a4fd390f.js";import{M as O}from"./metadataUtil-7f96c1e9.js";import{s as g,a as j}from"./column.esm-a35ea8b5.js";import"./index.esm-d62f54ec.js";const F={key:0,class:"text-tsm"},q={key:1},W={class:"mb-2"},Y={class:"grid grid-cols-2"},G={class:"grid-cols-1"},J=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-4"}," Scoped Metadata Key ",-1),Q={key:0,class:"text-xs"},X=e("div",{class:"inline-block text-xs ml-2 text-gray-400"}," hex ",-1),Z={key:1,class:"mt-1 text-xs"},ee=e("div",{class:"inline-block text-xs ml-2 text-gray-400"}," utf-8 ",-1),se={class:"grid-cols-1"},te=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-4"}," Current Value ",-1),ae={class:"text-xs mb-2"},oe={key:0,class:"text-xs"},de=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," hex ",-1),le={key:1,class:"mt-1 text-xs"},ie=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),re={class:"text-xs"},ne=K({__name:"MetadataComponent",props:{metadata:{type:Array,required:!0}},setup(f){const c=y(!1),m=()=>{window.innerWidth<1024?c.value=!1:c.value=!0};return m(),L(()=>{window.addEventListener("resize",m)}),U(()=>{window.removeEventListener("resize",m)}),(A,h)=>(s(),a("div",null,[f.metadata.length==0?(s(),a("div",F,"No record found")):(s(),a("div",q,[N(x(j),{value:f.metadata,paginator:!1,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{default:r(()=>[c.value?d("v-if",!0):(s(),n(x(g),{key:0,style:{width:"300px"}},{body:r(({data:l})=>[e("div",W,[e("div",Y,[e("div",G,[J,l.scopedMetadataKeyHex?(s(),a("div",Q,[i(o(l.scopedMetadataKeyHex)+" ",1),X])):d("v-if",!0),l.scopedMetadataKeyUtf8?(s(),a("div",Z,[i(o(l.scopedMetadataKeyUtf8)+" ",1),ee])):d("v-if",!0)]),e("div",se,[te,e("div",ae,o(l.value),1)])])])]),_:1})),c.value?(s(),n(x(g),{key:1,style:{width:"10px"}})):d("v-if",!0),c.value?(s(),n(x(g),{key:2,field:"SCOPED METADATA KEY",header:"SCOPED METADATA KEY",style:{width:"250px"}},{body:r(({data:l})=>[l.scopedMetadataKeyHex?(s(),a("div",oe,[i(o(l.scopedMetadataKeyHex)+" ",1),de])):d("v-if",!0),l.scopedMetadataKeyUtf8?(s(),a("div",le,[i(o(l.scopedMetadataKeyUtf8)+" ",1),ie])):d("v-if",!0),d(' <div class="uppercase text-xs pt-1" v-if="data.scopedMetadataKeyUtf8">{{data.scopedMetadataKeyUtf8 + "  (utf-8)"}}</div> ')]),_:1})):d("v-if",!0),c.value?(s(),n(x(g),{key:3,field:"CURRENT VALUE",header:"CURRENT VALUE",style:{width:"150px"}},{body:r(({data:l})=>[e("span",re,o(l.value),1)]),_:1})):d("v-if",!0)]),_:1},8,["value"])]))]))}}),ce=V(ne,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/namespace/components/MetadataComponent.vue"]]),ve={key:0},ue=e("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Namespace Details",-1),pe={class:"p-3 bg-yellow-100 text-yellow-700"},_e={key:1},me={class:"text-gray-500 mb-5 font-bold"},be={class:"text-blue-primary text-md font-bold uppercase"},ye=e("div",{class:"text-txs text-gray-400 font-normal mt-1"},"Namespace",-1),he={class:"md:grid md:grid-cols-2"},xe={class:"filter shadow-xl border border-gray-50 p-5 mb-5 md:mb-15 md:mr-2"},fe=e("div",{class:"text-sm font-bold mb-5"},"Overview",-1),ge={class:"txn-div"},ke={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},we=e("div",{class:"font-bold col-span-2"},"Namespace ID",-1),Ne={class:"uppercase col-span-3"},Ae={key:0,class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Pe=e("div",{class:"font-bold col-span-2"},"Levels",-1),Ce={class:"col-span-3"},$e={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Me=e("div",{class:"font-bold col-span-2"},"Depth",-1),Ie={class:"col-span-3"},De={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Ke=e("div",{class:"font-bold col-span-2"},"Type",-1),Ve={class:"uppercase col-span-3"},Ee={class:"py-4 text-xs grid grid-cols-5"},Le=e("div",{class:"font-bold col-span-2"},"Parent ID",-1),Ue={class:"uppercase col-span-3"},Se={key:1},Te={class:"filter shadow-xl border border-gray-50 p-5 mb-5 md:mb-15 sm:ml-2"},Re=e("div",{class:"text-sm font-bold mb-5"},"More Info",-1),He={class:"txn-div"},ze={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Be=e("div",{class:"font-bold col-span-2"},"Owner Address",-1),Oe={class:"break-all uppercase col-span-3"},je={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Fe=e("div",{class:"font-bold col-span-2"},"Owner Public Key",-1),qe={class:"break-all uppercase col-span-3"},We={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Ye=e("div",{class:"font-bold col-span-2"},"Start Block",-1),Ge={class:"uppercase col-span-3"},Je={class:"py-4 text-xs grid grid-cols-5"},Qe=e("div",{class:"font-bold col-span-2"},"End Block",-1),Xe={class:"uppercase col-span-3"},Ze={class:"filter shadow-xl border border-gray-50 p-5 mb-15"},es={class:"flex items-center mb-4 border-b border-gray-100 relative"},ss={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},ts={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},as={key:0,class:"mt-10"},os={key:0,class:"px-3"},ds={key:0},ls=e("div",{class:"text-sm font-bold mb-4"},"Alias",-1),is={class:"py-3 text-xs"},rs={class:"py-3 grid grid-cols-2 font-bold border-b border-gray-100"},ns={key:0},cs={key:1},vs=e("div",null,"Type",-1),us={class:"py-3 grid grid-cols-2"},ps={key:0},_s={key:2},ms={key:0},bs={key:1},ys={key:1,class:"mt-5"},hs=e("div",{class:"text-sm font-bold mb-4"},"Levels",-1),xs=e("div",{class:"py-3 text-xs grid grid-cols-2 font-bold border-b border-gray-100"},[e("div",null,"Namespace ID"),e("div",null,"Name")],-1),fs={key:0},gs={key:1},ks=K({__name:"ViewNamespace",props:{namespaceParam:{type:String,required:!0}},setup(f){const c=f,m=z(),A=m==null?void 0:m.appContext.config.globalProperties.emitter,h=y(!1),l=y(!0),P=y([]),t=y(null),C=y(""),b=y("details"),$=v=>{b.value=v},k=async()=>{if(!B.isReady){setTimeout(k,1e3);return}let v=D.isValidNamespaceString(c.namespaceParam);if(!v.valid){h.value=!0;return}C.value=v.namespaceIdHex;let u=await D.fetchNamespaceInfo(v.namespaceIdHex);if(u){const p=await O.getNamespaceMetadata(u.name);P.value=p,t.value=u,h.value=!1}else h.value=!0,l.value=!1};k();const E=S(()=>T.chainNetworkName);return A.on("CHANGE_NETWORK",v=>{v&&k()}),(v,u)=>{const p=R("router-link");return h.value?(s(),a("div",ve,[ue,e("div",pe," Namespace ID is not available in "+o(E.value),1)])):t.value?(s(),a("div",_e,[e("div",me,[e("div",be,o(t.value.name),1),ye]),e("div",he,[e("div",xe,[fe,e("div",ge,[e("div",ke,[we,e("div",Ne,o(C.value),1)]),t.value.levels?(s(),a("div",Ae,[Pe,e("div",Ce,o(t.value.levels.length),1)])):d("v-if",!0),e("div",$e,[Me,e("div",Ie,o(t.value.depth),1)]),e("div",De,[Ke,e("div",Ve,o(t.value.type?"Root":"Sub"),1)]),e("div",Ee,[Le,e("div",Ue,[t.value.parentId?(s(),n(p,{key:0,class:"text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewNamespace",params:{namespaceParam:t.value.parentId}}},{default:r(()=>[i(o(t.value.parentId),1)]),_:1},8,["to"])):(s(),a("span",Se,"No parent ID"))])])])]),e("div",Te,[Re,e("div",He,[e("div",ze,[Be,e("div",Oe,[t.value.ownerAddress?(s(),n(p,{key:0,class:"text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewAccount",params:{accountParam:t.value.ownerAddress}}},{default:r(()=>[i(o(t.value.ownerAddress),1)]),_:1},8,["to"])):d("v-if",!0)])]),e("div",je,[Fe,e("div",qe,[t.value.ownerPublicKey?(s(),n(p,{key:0,class:"text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewAccount",params:{accountParam:t.value.ownerPublicKey}}},{default:r(()=>[i(o(t.value.ownerPublicKey),1)]),_:1},8,["to"])):d("v-if",!0)])]),e("div",We,[Ye,e("div",Ge,o(t.value.start),1)]),e("div",Je,[Qe,e("div",Xe,o(t.value.end),1)])])])]),e("div",Ze,[e("div",es,[e("div",{class:w(["w-32 font-bold text-xs text-center p-2 relative",`${b.value=="details"?"":"cursor-pointer"}`]),onClick:u[0]||(u[0]=_=>$("details"))},[i(" Alias/Levels "),b.value=="details"?(s(),a("div",ss)):d("v-if",!0)],2),e("div",{class:w(["w-32 font-bold text-xs text-center p-2 relative",`${b.value=="metadata"?"":"cursor-pointer"}`]),onClick:u[1]||(u[1]=_=>$("metadata"))},[i(" Metadata "),b.value=="metadata"?(s(),a("div",ts)):d("v-if",!0)],2)]),b.value=="details"?(s(),a("div",as,[t.value.alias||t.value.levels?(s(),a("div",os,[t.value.alias?(s(),a("div",ds,[ls,e("div",is,[e("div",rs,[t.value.alias.type!=0?(s(),a("div",ns,o(t.value.alias.type==1?"Asset ID":"Address"),1)):(s(),a("div",cs,"Asset ID / Address")),vs]),e("div",us,[e("div",null,[t.value.alias.type==1?(s(),a("div",ps,[N(p,{class:"uppercase text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewAsset",params:{id:t.value.alias.id}}},{default:r(()=>[i(o(t.value.alias.id),1)]),_:1},8,["to"])])):t.value.alias.type==2?(s(),a(I,{key:1},[d(" {{ namespaceInfo.alias.id }} "),e("div",null,[N(p,{class:"uppercase text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewAccount",params:{accountParam:t.value.alias.id}}},{default:r(()=>[i(o(t.value.alias.id),1)]),_:1},8,["to"])])],2112)):(s(),a("div",_s,"No linked Asset / Address"))]),t.value.alias.type!=0?(s(),a("div",ms,o(t.value.alias.type==1?"Asset":"Address"),1)):(s(),a("div",bs,"-"))])])])):d("v-if",!0),t.value.levels?(s(),a("div",ys,[hs,xs,(s(!0),a(I,null,H(t.value.levels,(_,M)=>(s(),a("div",{key:M,class:w(["py-3 text-xs grid grid-cols-2 uppercase",`${M<t.value.levels.length-1?"border-b border-gray-100":""}`])},[_.name.toUpperCase()===t.value.name.toUpperCase()?(s(),a("div",fs,o(_.id),1)):(s(),a("div",gs,[_.id?(s(),n(p,{key:0,class:"text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewNamespace",params:{namespaceParam:_.id}}},{default:r(()=>[i(o(_.id),1)]),_:2},1032,["to"])):d("v-if",!0)])),e("div",null,o(_.name),1)],2))),128))])):d("v-if",!0)])):d("v-if",!0)])):b.value=="metadata"?(s(),n(ce,{key:1,metadata:P.value,class:"mt-1 px-3"},null,8,["metadata"])):d("v-if",!0)])])):d("v-if",!0)}}}),Cs=V(ks,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/namespace/views/ViewNamespace.vue"]]);export{Cs as default};
