import{_ as N,q as ie,A as I,s as re,b as U,e as n,f as i,i as t,g,w as f,j as h,t as a,u as l,H as A,l as o,F as M,v as F,x as O,y as V,k as _,z as ne,T as ee,h as E,c as Ce,m as De,r as P,B as we,M as de,I as q,d as be,C as Ie,n as Se}from"./index-8ee79107.js";import{_ as z,c as ae}from"./functions-a1a22147.js";import{_ as ge}from"./icon-xpx-70b6052c.js";import{_ as fe,a as Te,b as Ne}from"./proximax-logo-0209f8b9.js";import{_ as ke}from"./proximax-logo-gray-d9718656.js";const ce=e=>(O("data-v-b032b45d"),e=e(),V(),e),Ee={class:"details"},Oe=ce(()=>t("div",null,"Recipient",-1)),Ve={class:"flex"},je={key:0},Me=ce(()=>t("div",null,"Amount",-1)),Le={class:"relative"},Re={class:"font-bold"},Pe={class:"text-xxs"},Fe=ce(()=>t("img",{src:ge,class:"ml-2 inline-block",style:{top:"-1px",width:"14px"}},null,-1)),Ge={class:"font-bold ml-2"},Ke={key:1},Ue=ce(()=>t("div",null,"Amount",-1)),He={class:"relative"},Be={class:"font-bold"},Ye={class:"text-xxs"},ze={key:0,src:fe,class:"inline-block h-7 w-7 mr-2 ml-2 border-2 rounded-3xl"},Xe={key:1,src:Te,class:"inline-block h-7 w-7 mr-2 ml-2 border-2 rounded-3xl"},Je={key:2,src:ke,class:"inline-block h-6 w-6 mr-2 ml-2"},We={class:"inline-block text-gray-400 text-txs hover:text-gray-700 duration-300 transition-all"},qe={key:2},Qe={class:"break-all"},Ze={__name:"TransferDetailComponent",props:{txnDetail:Object},setup(e){const d=e,c=ie(),u=I.nativeToken.label,r=re(()=>d.txnDetail.detail.amountTransfer.toString().split(".")),m=y=>{let T=document.getElementById(y).getAttribute("copyValue"),$=document.getElementById(y).getAttribute("copySubject");ae(T),c.add({severity:"info",detail:$+" copied",group:"br",life:3e3})},v=re(()=>{let y=[];return d.txnDetail.detail.sda.length>0&&d.txnDetail.detail.sda.forEach(T=>{y.push(T.amount.toString().split("."))}),y});return(y,T)=>{const $=U("router-link");return n(),i("div",Ee,[t("div",null,[Oe,t("div",Ve,[g($,{to:{name:"ViewAccount",params:{accountParam:e.txnDetail.detail.recipient}},class:"mr-2 hover:text-blue-primary hover:underline text-blue-600",id:"recipient",copyValue:l(A).createAddress(e.txnDetail.detail.recipient).pretty(),copySubject:"Recipient address"},{default:f(()=>[h(a(l(A).createAddress(e.txnDetail.detail.recipient).pretty()),1)]),_:1},8,["to","copyValue"]),t("img",{src:z,onClick:T[0]||(T[0]=w=>m("recipient")),class:"cursor-pointer"})])]),e.txnDetail.detail.amountTransfer?(n(),i("div",je,[Me,t("div",Le,[t("span",Re,a(l(r)[0]),1),h(a(l(r)[1]>0?".":""),1),t("span",Pe,a(l(r)[1]),1),Fe,t("span",Ge,a(l(u)),1)])])):o("v-if",!0),o(` <div v-if="txnDetail.detail.assetAmount">
      <div>Amount</div>
      <div class="relative">
        <span class="font-bold">{{ Helper.toCurrencyFormat(assetAmount[0], nativeTokenDivisibility) }}</span>{{ assetAmount[1]>0?'.':'' }}<span class="text-xxs">{{ assetAmount[1] }}</span>
        <div class="inline-block text-gray-400 text-txs hover:text-gray-700 duration-300 transition-all ml-1">
          <router-link v-if="txnDetail.assetName" :to="{ name: 'ViewNamespace', params: { namespaceParam: txnDetail.assetName }}" class="hover:text-blue-primary hover:underline">{{ txnDetail.assetName }}</router-link>
          {{ txnDetail.assetName?' / ':'' }}
          <router-link :to="{ name: 'ViewAsset', params: { id: txnDetail.assetId }}" class="hover:text-blue-primary hover:underline">{{ txnDetail.assetId }}</router-link>
        </div>
      </div>
    </div> `),e.txnDetail.detail.sda.length>0?(n(),i("div",Ke,[Ue,t("div",He,[(n(!0),i(M,null,F(e.txnDetail.detail.sda,(w,D)=>(n(),i("div",{key:D},[t("span",Be,a(l(v)[D][0]),1),h(a(l(v)[D][1]>0?".":""),1),t("span",Ye,a(l(v)[D][1]),1),w.currentAlias[0]&&w.currentAlias[0].name=="xarcade.xar"?(n(),i("img",ze)):w.currentAlias[0]&&w.currentAlias[0].name=="prx.metx"?(n(),i("img",Xe)):(n(),i("img",Je)),t("div",We,[o(` <router-link v-if="sda.currentAlias[0]" :to="{ name: 'ViewAsset', params: { id: sda.id }}" class="hover:text-blue-primary hover:underline">{{ sda.label }}</router-link> `),o(" {{ sda.name?' / ':'' }} "),g($,{to:{name:"ViewAsset",params:{id:w.id}},class:"hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(w.label),1)]),_:2},1032,["to"])])]))),128)),o(' <div v-if="txnDetail.detail.amount.length == 0">-</div> ')])])):o("v-if",!0),e.txnDetail.detail.message?(n(),i("div",qe,[t("div",null,a(e.txnDetail.detail.messageTypeTitle),1),t("div",Qe,a(e.txnDetail.detail.message),1)])):o("v-if",!0)])}}},et=N(Ze,[["__scopeId","data-v-b032b45d"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/TransferDetailComponent.vue"]]);const ue=e=>(O("data-v-a860839f"),e=e(),V(),e),tt={class:"details"},nt={key:0},it=ue(()=>t("div",null,"Address",-1)),at={class:"flex"},lt={key:1},st=ue(()=>t("div",null,"Asset",-1)),ot=ue(()=>t("div",null,"Alias Type",-1)),dt=ue(()=>t("div",null,"Alias Name",-1)),rt={__name:"AliasDetailComponent",props:{txnDetail:Object},setup(e){const d=ie(),c=u=>{let r=document.getElementById(u).getAttribute("copyValue"),m=document.getElementById(u).getAttribute("copySubject");ae(r),d.add({severity:"info",detail:m+" copied",group:"br",life:3e3})};return(u,r)=>{const m=U("router-link");return n(),i("div",tt,[e.txnDetail.detail.address?(n(),i("div",nt,[it,t("div",at,[g(m,{to:{name:"ViewAccount",params:{accountParam:e.txnDetail.detail.address}},class:"mr-2 hover:text-blue-primary hover:underline text-blue-600",id:"address",copyValue:l(A).createAddress(e.txnDetail.detail.address).pretty(),copySubject:"Address"},{default:f(()=>[h(a(l(A).createAddress(e.txnDetail.detail.address).pretty()),1)]),_:1},8,["to","copyValue"]),t("img",{src:z,onClick:r[0]||(r[0]=v=>c("address")),class:"cursor-pointer"})])])):(n(),i("div",lt,[st,t("div",null,[g(m,{to:{name:"ViewAsset",params:{id:e.txnDetail.detail.assetId}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.assetId),1)]),_:1},8,["to"])])])),t("div",null,[ot,t("div",null,a(e.txnDetail.detail.aliasTypeName),1)]),t("div",null,[dt,t("div",null,a(e.txnDetail.detail.aliasName),1)])])}}},ct=N(rt,[["__scopeId","data-v-a860839f"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/AliasDetailComponent.vue"]]);const ut=e=>(O("data-v-a601e0bb"),e=e(),V(),e),vt={class:"details"},mt=ut(()=>t("div",null,"Transactions",-1)),xt={__name:"AggregateDetailComponent",props:{txnDetail:Object},setup(e){return(d,c)=>(n(),i("div",vt,[t("div",null,[mt,t("div",null,[(n(!0),i(M,null,F(e.txnDetail.detail.txnList,(u,r)=>(n(),i("div",{key:r,class:"py-1"},a(u.name)+" ( "+a(u.total)+" ) ",1))),128))])])]))}},_t=N(xt,[["__scopeId","data-v-a601e0bb"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/AggregateDetailComponent.vue"]]);const ve=e=>(O("data-v-42218970"),e=e(),V(),e),yt={class:"details"},ht=ve(()=>t("div",null,"Namespace Type",-1)),pt=ve(()=>t("div",null,"Namespace Name",-1)),Dt={key:0},bt=ve(()=>t("div",null,"Duration",-1)),gt={key:1},ft=ve(()=>t("div",null,"Parent",-1)),Tt={__name:"NamespaceDetailComponent",props:{txnDetail:Object},setup(e){return(d,c)=>{const u=U("router-link");return n(),i("div",yt,[t("div",null,[ht,t("div",null,a(e.txnDetail.detail.registerTypeName),1)]),t("div",null,[pt,t("div",null,[g(u,{to:{name:"ViewNamespace",params:{namespaceParam:e.txnDetail.detail.namespaceId}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.namespaceName),1)]),_:1},8,["to"])])]),e.txnDetail.detail.duration?(n(),i("div",Dt,[bt,t("div",null,a(e.txnDetail.detail.duration)+" Blocks",1)])):o("v-if",!0),e.txnDetail.detail.parentName?(n(),i("div",gt,[ft,t("div",null,[g(u,{to:{name:"ViewNamespace",params:{namespaceParam:e.txnDetail.detail.parentId}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.parentName),1)]),_:1},8,["to"])])])):o("v-if",!0)])}}},kt=N(Tt,[["__scopeId","data-v-42218970"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/NamespaceDetailComponent.vue"]]);const le=e=>(O("data-v-d40e8c4c"),e=e(),V(),e),$t=le(()=>t("div",null,"Offer Type",-1)),At={key:0},Ct=le(()=>t("div",null,"Duration",-1)),wt={key:1},It=le(()=>t("div",null,"Cost",-1)),St={class:"font-bold"},Nt={key:0,class:"text-xxs"},Et={class:"font-bold inline-block ml-1"},Ot={key:2},Vt=le(()=>t("div",null,"Amount",-1)),jt={class:"font-bold"},Mt={key:0,class:"text-xxs"},Lt={class:"text-gray-400 hover:text-gray-700 duration-300 transition-all inline-block ml-2"},Rt={key:3},Pt=le(()=>t("div",null,"Asset ID",-1)),Ft={class:"inline-block"},Gt={__name:"ExchangeDetailComponent",props:{txnDetail:Object},setup(e){const d=I.nativeToken.label,c=u=>u.toString().split(".");return(u,r)=>{const m=U("router-link");return n(!0),i(M,null,F(e.txnDetail.detail.exchangeOffers,(v,y)=>(n(),i("div",{class:"details",key:y},[t("div",null,[$t,t("div",null,a(v.type),1)]),v.duration?(n(),i("div",At,[Ct,t("div",null,a(v.duration)+" blocks",1)])):o("v-if",!0),v.cost?(n(),i("div",wt,[It,t("div",null,[t("span",St,a(l(A).convertToCurrency(c(v.cost)[0],0)),1),c(v.cost)[1]?(n(),i("span",Nt,"."+a(c(v.cost)[1]),1)):o("v-if",!0),t("div",Et,a(l(d)),1)])])):o("v-if",!0),v.amount?(n(),i("div",Ot,[Vt,t("div",null,[t("span",jt,a(l(A).convertToCurrency(c(v.amount)[0],0)),1),c(v.amount)[1]?(n(),i("span",Mt,"."+a(c(v.amount)[1]),1)):o("v-if",!0),t("div",Lt,[g(m,{to:{name:"ViewAsset",params:{id:v.assetId}},class:"hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(v.assetId),1)]),_:2},1032,["to"])])])])):v.assetId?(n(),i("div",Rt,[Pt,t("div",null,[t("div",Ft,[g(m,{to:{name:"ViewAsset",params:{id:v.assetId}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:f(()=>[h(a(v.assetId),1)]),_:2},1032,["to"])])])])):o("v-if",!0)]))),128)}}},Kt=N(Gt,[["__scopeId","data-v-d40e8c4c"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/ExchangeDetailComponent.vue"]]);const me=e=>(O("data-v-67201252"),e=e(),V(),e),Ut={class:"details"},Ht=me(()=>t("div",null,"Lock Hash",-1)),Bt={class:"break-all"},Yt=me(()=>t("div",null,"Duration",-1)),zt=me(()=>t("div",null,"Amount",-1)),Xt={class:"font-bold"},Jt={key:0,class:"text-xxs"},Wt={class:"font-bold inline-block ml-1"},qt={key:0},Qt=me(()=>t("div",null,"Refunded",-1)),Zt={__name:"LockDetailComponent",props:{txnDetail:Object},setup(e){const d=I.nativeToken.label,c=u=>u.toString().split(".");return(u,r)=>(n(),i("div",Ut,[t("div",null,[Ht,t("div",Bt,a(e.txnDetail.detail.lockHash),1)]),t("div",null,[Yt,t("div",null,a(e.txnDetail.detail.duration)+" blocks",1)]),t("div",null,[zt,t("div",null,[t("span",Xt,a(c(e.txnDetail.detail.amountLocking)[0]),1),c(e.txnDetail.detail.amountLocking)[1]?(n(),i("span",Jt,"."+a(c(e.txnDetail.detail.amountLocking)[1]),1)):o("v-if",!0),t("div",Wt,a(l(d)),1)])]),e.txnDetail.detail.isRefunded!=null?(n(),i("div",qt,[Qt,t("div",null,a(e.txnDetail.detail.isRefunded?"Yes":"No"),1)])):o("v-if",!0)]))}},en=N(Zt,[["__scopeId","data-v-67201252"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/LockDetailComponent.vue"]]);const $e=e=>(O("data-v-580eb90c"),e=e(),V(),e),tn={class:"details"},nn=$e(()=>t("div",null,"Action",-1)),an=$e(()=>t("div",null,"Remote Public Key",-1)),ln={__name:"LinkAccountDetailComponent",props:{txnDetail:Object},setup(e){return(d,c)=>{const u=U("router-link");return n(),i("div",tn,[t("div",null,[nn,t("div",null,a(e.txnDetail.detail.action),1)]),t("div",null,[an,t("div",null,[g(u,{to:{name:"ViewAccount",params:{accountParam:e.txnDetail.detail.remotePublicKey}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.remotePublicKey),1)]),_:1},8,["to"])])])])}}},sn=N(ln,[["__scopeId","data-v-580eb90c"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/LinkAccountDetailComponent.vue"]]);const Ae=e=>(O("data-v-f04a0d32"),e=e(),V(),e),on={class:"details"},dn=Ae(()=>t("div",null,"Restriction Type",-1)),rn=Ae(()=>t("div",null,"Modification",-1)),cn={key:0},un={key:1},vn={key:2},mn={__name:"RestrictionDetailComponent",props:{txnDetail:Object,txnGroup:Number},setup(e){return(d,c)=>{const u=U("router-link");return n(),i("div",on,[t("div",null,[dn,t("div",null,a(e.txnDetail.detail.restrictionTypeOutput),1)]),t("div",null,[rn,t("div",null,[e.txnGroup==l(_.TransactionType).MODIFY_ACCOUNT_RESTRICTION_OPERATION?(n(),i("div",cn,[(n(!0),i(M,null,F(e.txnDetail.detail.modification,(r,m)=>(n(),i("div",{key:m,class:ne(`${m>0?"mt-2":""}`)},a(r.action)+" "+a(r.value),3))),128))])):e.txnGroup==l(_.TransactionType).MODIFY_ACCOUNT_RESTRICTION_MOSAIC?(n(),i("div",un,[(n(!0),i(M,null,F(e.txnDetail.detail.modification,(r,m)=>(n(),i("div",{key:m,class:ne(`${m>0?"mt-2":""}`)},[h(a(r.action)+" ",1),l(ee).isNamespaceWithString(r.value)?(n(),E(u,{key:0,to:{name:"ViewNamespace",params:{namespaceParam:r.value}},class:"inline-block ml-1 hover:text-blue-primary hover:underline text-blue-600"},{default:f(()=>[h(a(r.value),1)]),_:2},1032,["to"])):(n(),E(u,{key:1,to:{name:"ViewAsset",params:{id:r.value}},class:"inline-block ml-1 hover:text-blue-primary hover:underline text-blue-600"},{default:f(()=>[h(a(r.value),1)]),_:2},1032,["to"]))],2))),128))])):e.txnGroup==l(_.TransactionType).MODIFY_ACCOUNT_RESTRICTION_ADDRESS?(n(),i("div",vn,[(n(!0),i(M,null,F(e.txnDetail.detail.modification,(r,m)=>(n(),i("div",{key:m,class:ne(`${m>0?"mt-2":""}`)},[h(a(r.action)+" ",1),g(u,{to:{name:"ViewAccount",params:{accountParam:r.value}},class:"inline-block ml-1 hover:text-blue-primary hover:underline text-blue-600"},{default:f(()=>[h(a(l(A).createAddress(r.value).pretty()),1)]),_:2},1032,["to"])],2))),128))])):o("v-if",!0)])])])}}},xn=N(mn,[["__scopeId","data-v-f04a0d32"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/RestrictionDetailComponent.vue"]]);const te=e=>(O("data-v-31c8243b"),e=e(),V(),e),_n={class:"details"},yn=te(()=>t("div",null,"Recipient",-1)),hn={class:"flex"},pn=te(()=>t("div",null,"Hash Type",-1)),Dn=te(()=>t("div",null,"Secret",-1)),bn={class:"break-all"},gn={key:0},fn=te(()=>t("div",null,"Duration",-1)),Tn={key:1},kn=te(()=>t("div",null,"Proof",-1)),$n={class:"break-all"},An={key:2},Cn=te(()=>t("div",null,"Amount",-1)),wn={class:"font-bold"},In={key:0,class:"text-xxs"},Sn={key:1,class:"ml-1 inline-block font-bold"},Nn={key:2,class:"inline-block text-gray-400 text-txs hover:text-gray-700 duration-300 transition-all"},En={__name:"SecretDetailComponent",props:{txnDetail:Object},setup(e){const d=ie(),c=I.nativeToken.label,u=m=>{let v=document.getElementById(m).getAttribute("copyValue"),y=document.getElementById(m).getAttribute("copySubject");ae(v),d.add({severity:"info",detail:y+" copied",group:"br",life:3e3})},r=m=>m.toString().split(".");return(m,v)=>{const y=U("router-link");return n(),i("div",_n,[t("div",null,[yn,t("div",hn,[g(y,{to:{name:"ViewAccount",params:{accountParam:e.txnDetail.detail.recipient}},class:"inline-block hover:text-blue-primary hover:underline text-blue-600",id:"recipientAddress",copyValue:l(A).createAddress(e.txnDetail.detail.recipient).pretty(),copySubject:"Recipient address"},{default:f(()=>[h(a(l(A).createAddress(e.txnDetail.detail.recipient).pretty()),1)]),_:1},8,["to","copyValue"]),t("img",{src:z,onClick:v[0]||(v[0]=T=>u("recipientAddress")),class:"cursor-pointer ml-2"})])]),t("div",null,[pn,t("div",null,a(e.txnDetail.detail.hashType),1)]),t("div",null,[Dn,t("div",bn,a(e.txnDetail.detail.secret),1)]),e.txnDetail.detail.duration?(n(),i("div",gn,[fn,t("div",null,a(e.txnDetail.detail.duration)+" blocks",1)])):o("v-if",!0),e.txnDetail.detail.proof?(n(),i("div",Tn,[kn,t("div",$n,a(e.txnDetail.detail.proof),1)])):o("v-if",!0),e.txnDetail.detail.amount?(n(),i("div",An,[Cn,t("div",null,[t("span",wn,a(r(e.txnDetail.detail.amount)[0]),1),r(e.txnDetail.detail.amount)[1]?(n(),i("span",In,"."+a(r(e.txnDetail.detail.amount)[1]),1)):o("v-if",!0),l(c)==e.txnDetail.detail.namespaceName?(n(),i("div",Sn,a(e.txnDetail.detail.namespaceName),1)):(n(),i("div",Nn,[g(y,{to:{name:"ViewAsset",params:{id:e.txnDetail.detail.assetId}},class:"inline-block ml-1 hover:text-blue-primary hover:underline text-blue-600"},{default:f(()=>[h(a(e.txnDetail.detail.assetId),1)]),_:1},8,["to"])]))])])):o("v-if",!0)])}}},On=N(En,[["__scopeId","data-v-31c8243b"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/SecretDetailComponent.vue"]]);const L=e=>(O("data-v-a6b349c0"),e=e(),V(),e),Vn={class:"details"},jn=L(()=>t("div",null,"Asset ID",-1)),Mn={key:0,class:"details"},Ln=L(()=>t("div",null,"Divisibility",-1)),Rn={key:0},Pn=L(()=>t("div",null,"Duration",-1)),Fn=L(()=>t("div",null,"Transferable",-1)),Gn=L(()=>t("div",null,"Supply Mutable",-1)),Kn=L(()=>t("div",null,"Nonce",-1)),Un={key:1,class:"details"},Hn=L(()=>t("div",null,"Supply Delta",-1)),Bn={key:2,class:"details"},Yn=L(()=>t("div",null,"Levy Asset Id",-1)),zn=L(()=>t("div",null,"Raw Levy Asset Amount",-1)),Xn=L(()=>t("div",null,"Levy Type",-1)),Jn=L(()=>t("div",null,"Levy Recipient",-1)),Wn={key:0},qn=L(()=>t("div",null,"Namespace",-1)),Qn={key:1},Zn=L(()=>t("div",null,"Levy Asset Name",-1)),ei={key:3,class:"details"},ti={key:0},ni=L(()=>t("div",null,"Namespace",-1)),ii={__name:"AssetDetailComponent",props:{txnDetail:Object,txnGroup:Number},setup(e){return(d,c)=>{const u=U("router-link");return n(),i(M,null,[t("div",Vn,[t("div",null,[jn,t("div",null,[g(u,{to:{name:"ViewAsset",params:{id:e.txnDetail.detail.assetId}},class:"uppercase text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.assetId),1)]),_:1},8,["to"])])])]),e.txnGroup==l(_.TransactionType).MOSAIC_DEFINITION?(n(),i("div",Mn,[t("div",null,[Ln,t("div",null,a(e.txnDetail.detail.divisibility),1)]),e.txnDetail.detail.duration?(n(),i("div",Rn,[Pn,t("div",null,a(e.txnDetail.detail.duration)+" blocks",1)])):o("v-if",!0),t("div",null,[Fn,t("div",null,a(e.txnDetail.detail.transferable?"Yes":"No"),1)]),t("div",null,[Gn,t("div",null,a(e.txnDetail.detail.supplyMutable?"Yes":"No"),1)]),t("div",null,[Kn,t("div",null,a(e.txnDetail.detail.nonce),1)])])):e.txnGroup==l(_.TransactionType).MOSAIC_SUPPLY_CHANGE?(n(),i("div",Un,[t("div",null,[Hn,t("div",null,a(e.txnDetail.detail.supplyDirection==0?"Decrease: ":"Increase: : ")+" "+a(l(A).toCurrencyFormat(e.txnDetail.detail.supplyDelta,0)),1)])])):e.txnGroup==l(_.TransactionType).MODIFY_MOSAIC_LEVY?(n(),i("div",Bn,[t("div",null,[Yn,t("div",null,a(e.txnDetail.detail.levyAssetId),1)]),t("div",null,[zn,t("div",null,a(e.txnDetail.detail.levyAssetAmountIsRaw?"Yes":"No"),1)]),t("div",null,[Xn,t("div",null,a(e.txnDetail.detail.levyType),1)]),t("div",null,[Jn,t("div",null,[g(u,{to:{name:"ViewAccount",params:{accountParam:e.txnDetail.detail.levyRecipient}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:f(()=>[h(a(l(A).createAddress(e.txnDetail.detail.levyRecipient).pretty()),1)]),_:1},8,["to"])])]),e.txnDetail.detail.namespaceName?(n(),i("div",Wn,[qn,t("div",null,a(e.txnDetail.detail.namespaceName),1)])):o("v-if",!0),e.txnDetail.detail.levyAssetName?(n(),i("div",Qn,[Zn,t("div",null,[g(u,{to:{name:"ViewAsset",params:{id:e.txnDetail.detail.levyAssetName}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.levyAssetName),1)]),_:1},8,["to"])])])):o("v-if",!0)])):o("v-if",!0),e.txnGroup==l(_.TransactionType).REMOVE_MOSAIC_LEVY?(n(),i("div",ei,[e.txnDetail.detail.namespaceName?(n(),i("div",ti,[ni,t("div",null,a(e.txnDetail.detail.namespaceName),1)])):o("v-if",!0)])):o("v-if",!0)],64)}}},ai=N(ii,[["__scopeId","data-v-a6b349c0"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/AssetDetailComponent.vue"]]);const ye=e=>(O("data-v-be42b2eb"),e=e(),V(),e),li={class:"details"},si={key:0},oi=ye(()=>t("div",null,"Apply Height Delta",-1)),di={key:1},ri=ye(()=>t("div",null,"Upgrade Period",-1)),ci={key:2},ui=ye(()=>t("div",null,"New Version",-1)),vi={__name:"ChainDetailComponent",props:{txnDetail:Object},setup(e){return(d,c)=>(n(),i("div",li,[e.txnDetail.detail.applyHeightDelta?(n(),i("div",si,[oi,t("div",null,a(e.txnDetail.detail.applyHeightDelta),1)])):o("v-if",!0),e.txnDetail.detail.upgradePeriod?(n(),i("div",di,[ri,t("div",null,a(e.txnDetail.detail.upgradePeriod),1)])):o("v-if",!0),e.txnDetail.detail.newVersion?(n(),i("div",ci,[ui,t("div",null,a(e.txnDetail.detail.newVersion),1)])):o("v-if",!0)]))}},mi=N(vi,[["__scopeId","data-v-be42b2eb"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/ChainDetailComponent.vue"]]);const he=e=>(O("data-v-0e4d7634"),e=e(),V(),e),xi={class:"details"},_i=he(()=>t("div",null,"Approval Delta",-1)),yi=he(()=>t("div",null,"Removal Delta",-1)),hi=he(()=>t("div",null,"Info",-1)),pi={__name:"AccountDetailComponent",props:{txnDetail:Object},setup(e){return(d,c)=>{const u=Ce("tooltip");return n(),i("div",xi,[t("div",null,[_i,t("div",null,a(e.txnDetail.detail.oldApprovalNumber?e.txnDetail.detail.oldApprovalNumber+" ":"")+a(e.txnDetail.detail.approvalDelta>0?`+${e.txnDetail.detail.approvalDelta}`:e.txnDetail.detail.approvalDelta),1)]),t("div",null,[yi,t("div",null,a(e.txnDetail.detail.oldRemovalNumber?e.txnDetail.detail.oldRemovalNumber+" ":"")+a(e.txnDetail.detail.removalDelta>0?`+${e.txnDetail.detail.removalDelta}`:e.txnDetail.detail.removalDelta),1)]),t("div",null,[hi,t("div",null,[(n(!0),i(M,null,F(e.txnDetail.detail.addedCosigner,r=>De((n(),i("span",{key:r,class:"inline-block bg-green-200 font-bold text-green-700 text-xs rounded py-1 px-2 my-1 mx-1"},[h(a(r.toString()),1)])),[[u,"Adding account:<br><br>"+r,void 0,{bottom:!0}]])),128)),(n(!0),i(M,null,F(e.txnDetail.detail.removedCosigner,r=>De((n(),i("span",{key:r,class:"inline-block bg-red-200 font-bold text-red-700 text-xs rounded py-1 px-1 my-1 mx-1"},[h(a(r.toString()),1)])),[[u,"Removing account:<br><br>"+r,void 0,{bottom:!0}]])),128))])])])}}},Di=N(pi,[["__scopeId","data-v-0e4d7634"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/AccountDetailComponent.vue"]]);const S=e=>(O("data-v-44072bc4"),e=e(),V(),e),bi={class:"details"},gi=S(()=>t("div",null,"Metadata Type",-1)),fi=S(()=>t("div",null,"Metadata Type Name",-1)),Ti=S(()=>t("div",null,"Scoped Metadata Key",-1)),ki={key:0,class:"details"},$i=S(()=>t("div",null,"Target Id",-1)),Ai=S(()=>t("div",null,"Target Public Key",-1)),Ci=S(()=>t("div",null,"Size Changed",-1)),wi={key:0},Ii=S(()=>t("div",null,"Value Change",-1)),Si={key:1},Ni=S(()=>t("div",null,"Old Value",-1)),Ei={key:2},Oi=S(()=>t("div",null,"New Value",-1)),Vi={key:1,class:"details"},ji=S(()=>t("div",null,"Target Id",-1)),Mi=S(()=>t("div",null,"Target Public Key",-1)),Li=S(()=>t("div",null,"Size Changed",-1)),Ri={key:0},Pi=S(()=>t("div",null,"Value Change",-1)),Fi={key:1},Gi=S(()=>t("div",null,"Old Value",-1)),Ki={key:2},Ui=S(()=>t("div",null,"New Value",-1)),Hi={key:2,class:"details"},Bi=S(()=>t("div",null,"Target Public Key",-1)),Yi=S(()=>t("div",null,"Size Changed",-1)),zi={key:0},Xi=S(()=>t("div",null,"Value Change",-1)),Ji={key:1},Wi=S(()=>t("div",null,"Old Value",-1)),qi={key:2},Qi=S(()=>t("div",null,"New Value",-1)),Zi={__name:"MetadataDetailComponent",props:{txnDetail:Object,txnGroup:Number},setup(e){return(d,c)=>{const u=U("router-link");return n(),i(M,null,[t("div",bi,[t("div",null,[gi,t("div",null,a(e.txnDetail.detail.metadataType),1)]),t("div",null,[fi,t("div",null,a(e.txnDetail.detail.metadataTypeName),1)]),t("div",null,[Ti,t("div",null,a(e.txnDetail.detail.scopedMetadataKey),1)])]),e.txnGroup==l(_.TransactionType).MOSAIC_METADATA_V2?(n(),i("div",ki,[t("div",null,[$i,t("div",null,[g(u,{to:{name:"ViewAsset",params:{id:e.txnDetail.detail.targetId}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.targetIdName?e.txnDetail.detail.targetIdName:e.txnDetail.detail.targetId),1)]),_:1},8,["to"])])]),t("div",null,[Ai,t("div",null,a(e.txnDetail.detail.targetPublicKey),1)]),t("div",null,[Ci,t("div",null,a(e.txnDetail.detail.sizeChanged),1)]),e.txnDetail.detail.valueChange?(n(),i("div",wi,[Ii,t("div",null,a(e.txnDetail.detail.valueChange),1)])):o("v-if",!0),e.txnDetail.detail.oldValue?(n(),i("div",Si,[Ni,t("div",null,a(e.txnDetail.detail.oldValue),1)])):o("v-if",!0),e.txnDetail.detail.newValue?(n(),i("div",Ei,[Oi,t("div",null,a(e.txnDetail.detail.newValue),1)])):o("v-if",!0)])):o("v-if",!0),e.txnGroup==l(_.TransactionType).NAMESPACE_METADATA_V2?(n(),i("div",Vi,[t("div",null,[ji,t("div",null,[g(u,{to:{name:"ViewNamespace",params:{namespaceParam:e.txnDetail.detail.targetId}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.detail.targetIdName?e.txnDetail.detail.targetIdName:e.txnDetail.detail.targetId),1)]),_:1},8,["to"])])]),t("div",null,[Mi,t("div",null,a(e.txnDetail.detail.targetPublicKey),1)]),t("div",null,[Li,t("div",null,a(e.txnDetail.detail.sizeChanged),1)]),e.txnDetail.detail.valueChange?(n(),i("div",Ri,[Pi,t("div",null,a(e.txnDetail.detail.valueChange),1)])):o("v-if",!0),e.txnDetail.detail.oldValue?(n(),i("div",Fi,[Gi,t("div",null,a(e.txnDetail.detail.oldValue),1)])):o("v-if",!0),e.txnDetail.detail.newValue?(n(),i("div",Ki,[Ui,t("div",null,a(e.txnDetail.detail.newValue),1)])):o("v-if",!0)])):e.txnGroup==l(_.TransactionType).ACCOUNT_METADATA_V2?(n(),i("div",Hi,[t("div",null,[Bi,t("div",null,a(e.txnDetail.detail.targetPublicKey),1)]),t("div",null,[Yi,t("div",null,a(e.txnDetail.detail.sizeChanged),1)]),e.txnDetail.detail.valueChange?(n(),i("div",zi,[Xi,t("div",null,a(e.txnDetail.detail.valueChange),1)])):o("v-if",!0),e.txnDetail.detail.oldValue?(n(),i("div",Ji,[Wi,t("div",null,a(e.txnDetail.detail.oldValue),1)])):o("v-if",!0),e.txnDetail.detail.newValue?(n(),i("div",qi,[Qi,t("div",null,a(e.txnDetail.detail.newValue),1)])):o("v-if",!0)])):o("v-if",!0)],64)}}},ea=N(Zi,[["__scopeId","data-v-44072bc4"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/MetadataDetailComponent.vue"]]);const ta=e=>(O("data-v-557682d2"),e=e(),V(),e),na=ta(()=>t("div",{class:"details-col"},"Unknown Data",-1)),ia={class:"raw-details"},aa={__name:"UnknownDataDetailComponent",props:{txnDetail:Object},setup(e){const c=JSON.stringify(e.txnDetail.unknownData,void 0,2);return(u,r)=>(n(),i(M,null,[na,t("div",ia,[t("pre",null,a(l(c)),1)])],64))}},la=N(aa,[["__scopeId","data-v-557682d2"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/transactionDetails/UnknownDataDetailComponent.vue"]]);const G=e=>(O("data-v-3c98ee10"),e=e(),V(),e),sa={class:"txn-div"},oa=G(()=>t("div",null,"TX HASH",-1)),da={class:"flex items-center break-all"},ra=["copyValue"],ca=G(()=>t("div",null,"Status",-1)),ua={key:0,class:"inline-block"},va=G(()=>t("div",{class:"flex items-center px-2 py-1 rounded-sm border border-green-100 bg-green-100 text-green-700 text-xs"},[t("span",{class:"material-icons md-16"},"done"),h(" Success ")],-1)),ma=[va],xa={key:1,class:"inline-block"},_a={class:"flex items-center px-2 py-1 rounded-sm border border-yellow-100 bg-yellow-100 text-yellow-700 text-xs"},ya=G(()=>t("span",{class:"material-icons md-16"},"info",-1)),ha={key:0},pa={key:1},Da={key:2},ba={key:0},ga=G(()=>t("div",null,"Deadline",-1)),fa={key:1},Ta=G(()=>t("div",null,"Timestamp",-1)),ka={key:2},$a=G(()=>t("div",null,"Block",-1)),Aa=G(()=>t("div",null,"Tx Type",-1)),Ca={class:"text-xxs text-gray-500"},wa={key:3},Ia=G(()=>t("div",null,"TX FEE",-1)),Sa={class:"relative"},Na={class:"font-bold"},Ea={class:"text-xxs"},Oa=G(()=>t("img",{src:ge,class:"ml-1 mr-2 inline-block",style:{top:"-1px",width:"14px"}},null,-1)),Va={class:"font-bold"},ja=G(()=>t("div",null,"Signature",-1)),Ma={class:"break-all"},La={key:0},Ra={key:1},Pa={key:2,class:"flex justify-start"},Fa={key:4},Ga=["onClick"],Ka={key:5,class:"bg-gray-200"},Ua=G(()=>t("div",{class:"unknownDetails-col"},"Unknown Data",-1)),Ha={class:"unknownDetails"},Ba={__name:"TxnDetailComponent",props:{txnDetail:Object,txnType:Number},setup(e){const d=e,c=ie(),u=I.nativeToken.label,r=re(()=>d.txnDetail?d.txnDetail.fee.toString().split("."):""),m=v=>{let y=document.getElementById(v);if(y){let T=y.getAttribute("copyValue"),$=y.getAttribute("copySubject");T&&(ae(T),c.add({severity:"info",detail:$+" copied",group:"br",life:3e3}))}};return(v,y)=>{const T=U("router-link");return n(),i(M,null,[t("div",sa,[t("div",null,[oa,t("div",da,[t("div",{class:"mr-2",id:"hash",copyValue:e.txnDetail.hash,copySubject:"Transaction hash"},a(e.txnDetail.hash),9,ra),t("img",{src:z,onClick:y[0]||(y[0]=$=>m("hash")),class:"cursor-pointer"})])]),t("div",null,[ca,t("div",null,[e.txnDetail.group=="confirmed"?(n(),i("div",ua,ma)):(n(),i("div",xa,[t("div",_a,[ya,h("  "),e.txnDetail.group=="partial"?(n(),i("span",ha,"Partial")):e.txnDetail.group=="unconfirmed"?(n(),i("span",pa,"Unconfirmed")):e.txnDetail.group=="failed"?(n(),i("span",Da,"Failed")):o("v-if",!0)])]))])]),e.txnDetail.group=="partial"||e.txnDetail.group=="unconfirmed"?(n(),i("div",ba,[ga,t("div",null,a(e.txnDetail.timestamp),1)])):(n(),i("div",fa,[Ta,t("div",null,a(e.txnDetail.timestamp),1)])),e.txnDetail.group=="confirmed"?(n(),i("div",ka,[$a,t("div",null,[g(T,{to:{name:"ViewBlock",params:{blockHeight:e.txnDetail.height}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(e.txnDetail.height),1)]),_:1},8,["to"])])])):o("v-if",!0),t("div",null,[Aa,t("div",null,[h(a(e.txnDetail.typeName)+" ",1),t("span",Ca," (Version: "+a(e.txnDetail.version)+") ",1)])]),e.txnDetail.group=="confirmed"?(n(),i("div",wa,[Ia,t("div",Sa,[t("span",Na,a(l(r)[0]),1),h(a(l(r)[1]>0?".":""),1),t("span",Ea,a(l(r)[1]),1),Oa,t("span",Va,a(l(u)),1)])])):o("v-if",!0),t("div",null,[ja,t("div",Ma,a(e.txnDetail.signature),1)]),t("div",null,[e.txnType==l(_.TransactionType).AGGREGATE_BONDED||e.txnType==l(_.TransactionType).AGGREGATE_COMPLETE?(n(),i("div",La," Signer ")):(n(),i("div",Ra,"From")),e.txnDetail.signer?(n(),i("div",Pa,[g(T,{to:{name:"ViewAccount",params:{accountParam:l(A).createAddress(e.txnDetail.signer).pretty()}},class:"text-blue-600 hover:text-blue-primary hover:underline mr-2",id:"signerAddress",copyValue:l(A).createAddress(e.txnDetail.signer).pretty(),copySubject:"Signer address"},{default:f(()=>[h(a(l(A).createAddress(e.txnDetail.signer).pretty()),1)]),_:1},8,["to","copyValue"]),t("img",{src:z,onClick:y[1]||(y[1]=$=>m("signerAddress")),class:"cursor-pointer"})])):o("v-if",!0)]),e.txnDetail.cosigners.length>0?(n(),i("div",Fa,[t("div",null,"Cosigner"+a(e.txnDetail.cosigners.length>1?"s":""),1),t("div",null,[(n(!0),i(M,null,F(e.txnDetail.cosigners,($,w)=>(n(),i("div",{key:w,class:"flex items-center mb-3"},[g(T,{to:{name:"ViewAccount",params:{accountParam:l(A).createAddress($.signer.address.address).pretty()}},class:"text-blue-600 hover:text-blue-primary hover:underline mr-2",id:"cosigner"+w,copyValue:l(A).createAddress($.signer.address.address).pretty(),copySubject:"Cosigner address"},{default:f(()=>[h(a(l(A).createAddress($.signer.address.address).pretty()),1)]),_:2},1032,["to","id","copyValue"]),t("img",{src:z,onClick:D=>m("cosigner"+w),class:"cursor-pointer"},null,8,Ga)]))),128))])])):o("v-if",!0),Object.keys(e.txnDetail.unknownData).length?(n(),i("div",Ka,[Ua,t("div",Ha,[t("pre",null,a(JSON.stringify(e.txnDetail.unknownData,void 0,2)),1)])])):o("v-if",!0)]),e.txnType==l(_.TransactionType).TRANSFER?(n(),E(et,{key:0,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).ADDRESS_ALIAS||e.txnType==l(_.TransactionType).MOSAIC_ALIAS?(n(),E(ct,{key:1,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).AGGREGATE_BONDED||e.txnType==l(_.TransactionType).AGGREGATE_COMPLETE?(n(),E(_t,{key:2,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).REGISTER_NAMESPACE?(n(),E(kt,{key:3,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).EXCHANGE_OFFER||e.txnType==l(_.TransactionType).ADD_EXCHANGE_OFFER||e.txnType==l(_.TransactionType).REMOVE_EXCHANGE_OFFER?(n(),E(Kt,{key:4,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).LOCK?(n(),E(en,{key:5,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).LINK_ACCOUNT?(n(),E(sn,{key:6,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).MODIFY_ACCOUNT_RESTRICTION_ADDRESS||e.txnType==l(_.TransactionType).MODIFY_ACCOUNT_RESTRICTION_MOSAIC||e.txnType==l(_.TransactionType).MODIFY_ACCOUNT_RESTRICTION_OPERATION?(n(),E(xn,{key:7,txnDetail:e.txnDetail,txnGroup:e.txnType},null,8,["txnDetail","txnGroup"])):o("v-if",!0),e.txnType==l(_.TransactionType).SECRET_PROOF||e.txnType==l(_.TransactionType).SECRET_LOCK?(n(),E(On,{key:8,txnDetail:e.txnDetail,txnGroup:e.txnType},null,8,["txnDetail","txnGroup"])):o("v-if",!0),e.txnType==l(_.TransactionType).MOSAIC_DEFINITION||e.txnType==l(_.TransactionType).MOSAIC_SUPPLY_CHANGE||e.txnType==l(_.TransactionType).MODIFY_MOSAIC_LEVY||e.txnType==l(_.TransactionType).REMOVE_MOSAIC_LEVY?(n(),E(ai,{key:9,txnDetail:e.txnDetail,txnGroup:e.txnType},null,8,["txnDetail","txnGroup"])):o("v-if",!0),e.txnType==l(_.TransactionType).MOSAIC_DEFINITION||e.txnType==l(_.TransactionType).MOSAIC_SUPPLY_CHANGE||e.txnType==l(_.TransactionType).CHAIN_CONFIGURE||e.txnType==l(_.TransactionType).CHAIN_UPGRADE?(n(),E(mi,{key:10,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).MODIFY_MULTISIG_ACCOUNT?(n(),E(Di,{key:11,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0),e.txnType==l(_.TransactionType).MOSAIC_METADATA_V2||e.txnType==l(_.TransactionType).NAMESPACE_METADATA_V2||e.txnType==l(_.TransactionType).CHAIN_CONFIGURE||e.txnType==l(_.TransactionType).ACCOUNT_METADATA_V2?(n(),E(ea,{key:12,txnDetail:e.txnDetail},null,8,["txnDetail"])):o("v-if",!0)],64)}}},Ya=N(Ba,[["__scopeId","data-v-3c98ee10"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/TxnDetailComponent.vue"]]);class Q{static findAllLevelCosigners(d){let c=[];const u=[...d.keys()];for(let r=0;r<u.length;++r){const m=u[r],v=d.get(m);if(v){const y=Q.findCosigners(v);c=c.concat(y)}}return c=Array.from(new Set(c)),c}static findCosigners(d){const c=[];for(let u=0;u<d.length;++u)d[u].minApproval===0&&d[u].minRemoval===0&&c.push(d[u].account.publicKey);return c}static isFulllySigned(d,c){if(d.isMultisig()){const u=d.minApproval;return d.cosignatories.filter(m=>c.includes(m.publicKey)).length>=u}else return c.includes(d.account.publicKey)}static async isModifyMultisigFullySigned(d,c){if(!I.chainAPI)throw new Error("Service Unavailable");if(!d.signer)throw new Error("Service Unavailable");const u=d.modifications.filter(v=>v.type===_.MultisigCosignatoryModificationType.Remove).length,r=d.modifications.filter(v=>v.type===_.MultisigCosignatoryModificationType.Add).length,m=d.modifications.filter(v=>v.type===_.MultisigCosignatoryModificationType.Add).map(v=>v.cosignatoryPublicAccount.publicKey);try{const v=await I.chainAPI.accountAPI.getMultisigAccountInfo(d.signer.address),y=v.minApproval,T=v.minRemoval,w=v.cosignatories.map(p=>p.publicKey).filter(p=>c.includes(p));let D=!0;(d.minApprovalDelta!==0||d.minRemovalDelta!==0)&&(D=w.length>=y);let K=!0;u&&(K=w.length>=T);let R=!0;return r&&(R=m.filter(x=>c.includes(x)).length===m.length),D&&K&&R}catch{let y=!0;return r&&(y=m.filter(w=>c.includes(w)).length===m.length),y}}static async getAllDeepModifyMultisigCosigners(d){if(!I.chainAPI)throw new Error("Service Unavailable");if(!d.signer)throw new Error("Service Unavailable");let c=[];const u=d.modifications.filter(y=>y.type===_.MultisigCosignatoryModificationType.Add).map(y=>y.cosignatoryPublicAccount.publicKey);let r=[],m=[];const v=d.signer.publicKey;try{r=(await I.chainAPI.accountAPI.getMultisigAccountInfo(d.signer.address)).cosignatories.map(T=>T.publicKey)}catch{c.push(v)}m=r.concat(u);for(let y=0;y<m.length;++y)try{const T=await I.chainAPI.accountAPI.getMultisigAccountGraphInfo(_.Address.createFromPublicKey(m[y],I.networkType)),$=Q.findAllLevelCosigners(T.multisigAccounts);c=c.concat($)}catch{c.push(m[y])}return c=Array.from(new Set(c)),c}static async getAllFlatModifyMultisigCosigners(d){if(!I.chainAPI)throw new Error("Service Unavailable");if(!d.signer)throw new Error("Service Unavailable");let c=[];const u=d.modifications.filter(m=>m.type===_.MultisigCosignatoryModificationType.Add).map(m=>m.cosignatoryPublicAccount.publicKey);let r=[];try{r=(await I.chainAPI.accountAPI.getMultisigAccountInfo(d.signer.address)).cosignatories.map(v=>v.publicKey)}catch(m){throw m}return c=r.concat(u),c=Array.from(new Set(c)),c}}const X=e=>(O("data-v-77f74371"),e=e(),V(),e),za={class:"table_div"},Xa=X(()=>t("div",null,"Type",-1)),Ja={class:"text-xxs text-gray-500"},Wa=X(()=>t("div",null,"Public Key",-1)),qa={class:"flex items-center"},Qa=X(()=>t("div",null,"From",-1)),Za={class:"flex items-center"},el=X(()=>t("div",null,"Fully signed",-1)),tl={key:0},nl={key:0,class:"table_div"},il={key:0},al={key:1},ll={key:2},sl={key:3,class:"flex items-center"},ol={key:4},dl={key:0},rl={key:0},cl={key:1},ul={key:2},vl={key:3},ml={key:1},xl={key:0},_l={key:1},yl={key:2},hl={key:3},pl={key:2},Dl=X(()=>t("div",null,"Supply Delta",-1)),bl={key:3},gl=X(()=>t("div",null,"Transferable",-1)),fl={key:4},Tl=X(()=>t("div",null,"Supply Mutable",-1)),kl={key:5},$l=X(()=>t("div",null,"Divisibility",-1)),Al={key:6},Cl=X(()=>t("div",null,"SDAs",-1)),wl={class:"inline-block"},Il={class:"font-bold text-xs"},Sl={class:"text-xxs"},Nl={key:0,class:"inline-block ml-2"},El={key:0,src:Ne,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},Ol={key:1,src:fe,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},Vl={key:2,src:Te,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},jl={key:3,src:ke,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},Ml={key:1,class:"text-gray-400 hover:text-gray-700 duration-300 transition-all inline-block ml-2"},Ll={__name:"InnerTxnComponent",props:{innerTxn:Object,txn:Object,txnGroup:String},setup(e){const d=e,c=_.TransactionType.MOSAIC_SUPPLY_CHANGE,u=_.TransactionType.MOSAIC_DEFINITION,r=ie(),m=I.nativeToken.fullNamespace,v=x=>{let C=document.getElementById(x).getAttribute("copyValue"),j=document.getElementById(x).getAttribute("copySubject");ae(C),r.add({severity:"info",detail:j+" copied",group:"br",life:3e3})},y=x=>x.toString().split(".");let T=[],$=[],w=[],D=[];const K=P([]);let R=[];const Z=P(d.innerTxn),p=P([{infoInfoList:{},infoGreenList:{},infoRedList:{},sdas:{}}]);return we(()=>{if(d.innerTxn.length>0){let x=ee.castToAggregate(d.txn);d.innerTxn.forEach(async(C,j)=>{T.push(x.signer.publicKey),$=x.cosignatures.map(s=>s.signer.publicKey),w=$.concat([C.signer.publicKey]),D=[...w];let k=await ee.extractInnerTransaction(C,d.txnGroup);k&&(k.infoInfoList=k.infos.filter(s=>s.label&&s.type===de.INFO),k.infoGreenList=k.infos.filter(s=>!s.label&&s.type===de.GREEN),k.infoRedList=k.infos.filter(s=>!s.label&&s.type===de.RED),k.infoList=k.infos.filter(s=>s.type===de.NONE),p.value[j]=k);let b=C.signer;if(C.type===_.TransactionType.MODIFY_MULTISIG_ACCOUNT){R=await Q.getAllDeepModifyMultisigCosigners(C);let H=await Q.getAllFlatModifyMultisigCosigners(C);for(let Y=0;Y<H.length;++Y)try{let W=await I.chainAPI.accountAPI.getMultisigAccountGraphInfo(_.PublicAccount.createFromPublicKey(H[Y],I.networkType).address),se=W.multisigAccounts.keys().sort((B,xe)=>B-xe);for(let B=0;B<se.length;++B){const xe=se[B],_e=W.multisigAccounts.get(xe);for(let oe=0;oe<_e.length;++oe)Q.isFulllySigned(_e[oe],D)&&D.push(_e[oe].account.publicKey)}}catch{}D=Array.from(new Set(D));let J=H.every(Y=>D.includes(Y));K.value.push(J)}else{try{let s=await I.chainAPI.accountAPI.getMultisigAccountGraphInfo(b.address),H=Array.from(s.multisigAccounts.keys()).sort((J,Y)=>J-Y);for(let J=0;J<H.length;++J){const Y=H[J],W=s.multisigAccounts.get(Y);let se=Q.findCosigners(W);R=R.concat(se);for(let B=0;B<W.length;++B)Q.isFulllySigned(W[B],D)&&D.push(W[B].account.publicKey)}D=Array.from(new Set(D)),R=Array.from(new Set(R))}catch{R=[b.publicKey]}K.value.push(D.includes(b.publicKey))}})}}),(x,C)=>{const j=U("router-link");return n(!0),i(M,null,F(Z.value,(k,b)=>(n(),i("div",{class:"mt-3 border border-gray-200 p-3",key:b},[t("div",za,[t("div",null,[Xa,t("div",null,[h(a(k.transactionName)+" ",1),t("span",Ja," (Version: "+a(k.version)+") ",1)])]),t("div",null,[Wa,t("div",qa,[g(j,{id:"publicKey",to:{name:"ViewAccount",params:{accountParam:k.signer.publicKey}},class:"hover:text-blue-primary hover:underline text-blue-600",copyValue:k.signer.publicKey,copySubject:"Public Key"},{default:f(()=>[h(a(k.signer.publicKey),1)]),_:2},1032,["to","copyValue"]),t("img",{src:z,onClick:C[0]||(C[0]=s=>v("publicKey")),class:"ml-2 w-4 h-4 cursor-pointer"})])]),t("div",null,[Qa,t("div",Za,[g(j,{id:"signerAddress",to:{name:"ViewAccount",params:{accountParam:k.signer.address.address}},class:"hover:text-blue-primary hover:underline text-blue-600",copyValue:l(A).createAddress(k.signer.address.address).pretty(),copySubject:"Address"},{default:f(()=>[h(a(l(A).createAddress(k.signer.address.address).pretty()),1)]),_:2},1032,["to","copyValue"]),t("img",{src:z,onClick:C[1]||(C[1]=s=>v("signerAddress")),class:"ml-2 w-4 h-4 cursor-pointer"})])]),t("div",null,[el,t("div",null,a(!K.value[b]&&K.value[b]===!1?"No":"Yes"),1)]),k.unknownData&&Object.keys(k.unknownData).length?(n(),i("div",tl,[g(la,{txnDetail:k},null,8,["txnDetail"])])):o("v-if",!0)]),p.value[b]!=null?(n(),i("div",nl,[(n(!0),i(M,null,F(p.value[b].infoList,(s,H)=>(n(),i("div",{key:H},[t("div",null,a(s.label?s.label:""),1),s.label.toLowerCase()=="effective height"?(n(),i("div",il,[g(j,{to:{name:"ViewBlock",params:{blockHeight:s.value}},class:"text-xs text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(s.value),1)]),_:2},1032,["to"])])):s.label.toLowerCase()=="namespace"?(n(),i("div",al,[t("div",null,[g(j,{to:{name:"ViewNamespace",params:{namespaceParam:s.short?s.short:s.value}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(s.short?s.short:s.value),1)]),_:2},1032,["to"])])])):s.label.toLowerCase()=="asset"?(n(),i("div",ll,[g(j,{to:{name:"ViewAsset",params:{id:s.short?s.short:s.value}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(s.short?s.short:s.value),1)]),_:2},1032,["to"])])):s.label.toLowerCase()=="account"||s.label.toLowerCase()=="recipient"?(n(),i("div",sl,[g(j,{id:"metadataAccount",to:{name:"ViewAccount",params:{accountParam:s.short?s.short:s.value}},class:"text-blue-600 hover:text-blue-primary hover:underline",copyValue:s.short?s.short:s.value,copySubject:"Address"},{default:f(()=>[h(a(s.short?s.short:s.value),1)]),_:2},1032,["to","copyValue"]),t("img",{src:z,onClick:C[2]||(C[2]=J=>v("metadataAccount")),class:"ml-2 w-4 h-4 cursor-pointer"})])):(n(),i("div",ol,a(s.short?s.short:s.value),1))]))),128)),p.value[b].infoGreenList.length>0?(n(),i("div",dl,[p.value[b].legendType===l(q).ADD_REMOVE?(n(),i("div",rl," Add ")):p.value[b].legendType===l(q).TRUE_FALSE?(n(),i("div",cl," True ")):p.value[b].legendType===l(q).BUY_SELL?(n(),i("div",ul," Buy ")):p.value[b].legendType===l(q).ALLOW_BLOCK?(n(),i("div",vl," Allow ")):o("v-if",!0),t("div",null,a(p.value[b].infoGreenList.map(s=>s.short?s.short:s.value).join(", ")),1)])):o("v-if",!0),p.value[b].infoRedList.length>0?(n(),i("div",ml,[p.value[b].legendType===l(q).ADD_REMOVE?(n(),i("div",xl," Remove ")):p.value[b].legendType===l(q).TRUE_FALSE?(n(),i("div",_l," False ")):p.value[b].legendType===l(q).BUY_SELL?(n(),i("div",yl," Sell ")):p.value[b].legendType===l(q).ALLOW_BLOCK?(n(),i("div",hl," Block ")):o("v-if",!0),t("div",null,a(p.value[b].infoRedList.map(s=>s.short?s.short:s.value).join(", ")),1)])):o("v-if",!0),p.value[b].infoInfoList.length>0&&k.type==l(c)?(n(),i("div",pl,[Dl,t("div",null,a(p.value[b].infoInfoList.map(s=>s.label=="Supply Direction"?s.value:"").join(""))+" "+a(p.value[b].infoInfoList.map(s=>s.label=="Supply Delta"?l(A).toCurrencyFormat(s.value,0):"").join("")),1)])):o("v-if",!0),p.value[b].infoInfoList.length>0&&k.type==l(u)?(n(),i("div",bl,[gl,t("div",null,a(p.value[b].infoInfoList.map(s=>s.label=="Transferable"?s.value:"").join("")),1)])):o("v-if",!0),p.value[b].infoInfoList.length>0&&k.type==l(u)?(n(),i("div",fl,[Tl,t("div",null,a(p.value[b].infoInfoList.map(s=>s.label=="Supply Mutable"?s.value:"").join("")),1)])):o("v-if",!0),p.value[b].infoInfoList.length>0&&k.type==l(u)?(n(),i("div",kl,[$l,t("div",null,a(p.value[b].infoInfoList.map(s=>s.label=="Divisibility"?s.value:"").join("")),1)])):o("v-if",!0),p.value[b].sdas.length>0?(n(),i("div",Al,[Cl,t("div",null,[(n(!0),i(M,null,F(p.value[b].sdas,(s,H)=>(n(),i("div",{key:H},[t("div",wl,[t("span",Il,a(l(A).toCurrencyFormat(y(s.amount)[0],0)),1),t("span",Sl,a(y(s.amount)[1]?"."+y(s.amount)[1]:""),1)]),s.namespace?(n(),i("div",Nl,[s.namespace==l(m)?(n(),i("img",El)):s.namespace=="xarcade.xar"?(n(),i("img",Ol)):s.namespace=="prx.metx"?(n(),i("img",Vl)):(n(),i("img",jl)),g(j,{to:{name:"ViewAsset",params:{id:s.assetId}},class:"text-blue-600 hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(s.label),1)]),_:2},1032,["to"])])):(n(),i("div",Ml,[g(j,{to:{name:"ViewAsset",params:{id:s.assetId}},class:"hover:text-blue-primary hover:underline"},{default:f(()=>[h(a(s.assetId),1)]),_:2},1032,["to"])]))]))),128))])])):o("v-if",!0)])):o("v-if",!0)]))),128)}}},Rl=N(Ll,[["__scopeId","data-v-77f74371"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/InnerTxnComponent.vue"]]),pe=e=>(O("data-v-1aa2f7fe"),e=e(),V(),e),Pl={class:"txn-div"},Fl=pe(()=>t("div",null,"TX HASH",-1)),Gl={class:"break-all"},Kl=pe(()=>t("div",null,[t("div",null,"Status"),t("div",null,[t("div",{class:"inline-block"},[t("div",{class:"flex items-center px-2 py-1 rounded-sm border border-red-100 bg-red-100 text-red-700 text-xs"},[t("span",{class:"material-icons md-16"},"close"),h(" Failed ")])])])],-1)),Ul=pe(()=>t("div",null,"Error",-1)),Hl={class:"break-all"},Bl=be({__name:"TxnFailedComponent",props:{hash:String,status:String},setup(e){return(d,c)=>(n(),i("div",Pl,[t("div",null,[Fl,t("div",Gl,a(e.hash),1)]),Kl,t("div",null,[Ul,t("div",Hl,a(e.status),1)])]))}});const Yl=N(Bl,[["__scopeId","data-v-1aa2f7fe"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/TxnFailedComponent.vue"]]),zl=t("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Transaction Details",-1),Xl={key:0},Jl={key:0,class:"filter shadow-xl border border-gray-50 p-5 mb-15"},Wl={class:"flex items-center mb-4 border-b border-gray-100 relative"},ql={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},Ql={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},Zl={key:1,class:"p-3 bg-yellow-100 text-yellow-700"},es={key:2,class:"filter shadow-xl border border-gray-50 p-5 mb-15"},ts={key:1},ns=t("div",{class:"flex justify-center items-center border-gray-400 mt-10"},[t("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),t("span",{class:"text-tsm"},"Fetching Transaction Details")],-1),is=[ns],as=be({__name:"ViewTransaction",props:{hash:{type:String,required:!0}},setup(e){const d=e,c=Se(),u=c==null?void 0:c.appContext.config.globalProperties.emitter,r=P("detail"),m=P(0),v=P(!0),y=P(!1),T=P(""),$=P([]),w=P({}),D=P({}),K=P({}),R=re(()=>Ie.chainNetworkName),Z=async()=>{if(!I.isReady){setTimeout(Z,1e3);return}if(!d.hash)return;const p=sessionStorage.getItem("storeFailedTxnDetails");if(p){let x=JSON.parse(p);$.value=x}if($.value){let x=$.value.find(C=>C.networkName===R.value&&C.txnHash===d.hash);if(x){T.value=x.errMsg,y.value=!0,v.value=!1;return}}if(y.value===!1){let x=await ee.getTransaction(d.hash);if(x.isFound=="error"){D.value=x,v.value=!1;return}else if(x.txnStatus.group=="failed"){let C=$.value.map(j=>j.txnHash);T.value=x.txnStatus.status,C.includes(d.hash)||($.value.push({networkName:R.value,txnHash:d.hash,errMsg:T.value}),sessionStorage.setItem("storeFailedTxnDetails",JSON.stringify($.value)))}else if(w.value=x.txn,x.isFound==!0){if(D.value={hash:d.hash,status:x.txnStatus.status?x.txnStatus.status:"",timestamp:x.txn.timestamp,height:x.txn.transactionInfo.height.compact(),type:x.txn.type,typeName:x.txn.transactionName,fee:A.convertToExact(x.txn.fee,I.nativeToken.divisibility),signature:x.txn.signature,signer:x.txn.signer.address.address,version:x.txn.version,isMissingSignature:x.txn.hasMissingSignatures(),detail:x.txn.detail,group:x.txnStatus.group,isFound:x.isFound,unknownData:x.txn.unknownData?x.txn.unknownData:{}},x.txn.cosignatures!=null?D.value.cosigners=x.txn.cosignatures:D.value.cosigners={},m.value=x.txn.type,x.txn.mosaic!=null&&(D.value.assetAmount=A.convertToExact(x.txn.mosaic.amount.compact(),I.nativeToken.divisibility),D.value.assetId=x.txn.mosaic.id.toHex(),ee.isNamespace(x.txn.mosaic.id))){let j=A.createNamespaceId(x.txn.mosaic.id.toDTO().id),k=await ee.getNamespacesName([j]);D.value.assetName=k[0].name}K.value=x.txn.innerTransactions}else D.value=x}v.value=!1};return Z(),u.on("CHANGE_NETWORK",p=>{p&&(D.value={},v.value=!0,y.value=!1,Z())}),(p,x)=>(n(),i("div",null,[zl,v.value?o("v-if",!0):(n(),i("div",Xl,[D.value.isFound===!0?(n(),i("div",Jl,[t("div",Wl,[t("div",{class:ne(["w-32 font-bold text-xs text-center p-2 relative",`${r.value!="detail"?"cursor-pointer":""}`]),onClick:x[0]||(x[0]=C=>r.value="detail")},[h(" Overview "),r.value=="detail"?(n(),i("div",ql)):o("v-if",!0)],2),K.value?(n(),i("div",{key:0,class:ne(["w-32 font-bold text-xs text-center p-2 relative",`${r.value!="inner"?"cursor-pointer":""}`]),onClick:x[1]||(x[1]=C=>r.value="inner")},[h(" Inner Txns "),r.value=="inner"?(n(),i("div",Ql)):o("v-if",!0)],2)):o("v-if",!0)]),r.value=="detail"?(n(),E(Ya,{key:0,txnDetail:D.value,txnType:m.value},null,8,["txnDetail","txnType"])):(n(),E(Rl,{key:1,innerTxn:K.value,txn:w.value,txnGroup:D.value.group},null,8,["innerTxn","txn","txnGroup"]))])):D.value.isFound==="error"?(n(),i("div",Zl," Transaction not found in "+a(l(R)),1)):(n(),i("div",es,[g(Yl,{hash:e.hash,status:T.value},null,8,["hash","status"])]))])),v.value?(n(),i("div",ts,is)):o("v-if",!0)]))}}),cs=N(as,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewTransaction.vue"]]);export{cs as default};
