import{d as R,r as k,o as V,a as H,b as S,c as z,e as s,f as a,g as y,w as r,h,i as e,m as F,j as m,t as o,u as v,l,H as L,_ as D,s as B,C as j,F as q,v as G,z as I,D as O,n as W,A as Y,E,k as J,N as Q,x as X,y as Z}from"./index-993a5823.js";import{s as x,a as K}from"./column.esm-10a77abe.js";import{M as ee}from"./metadataUtil-1c8b72c5.js";import"./index.esm-13a0b59f.js";const te={key:0,class:"ml-10 text-tsm"},se={key:1},oe={class:"mb-2"},ae=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," ADDRESS ",-1),ie={class:"text-ellipsis overflow-hidden"},le={class:"grid grid-cols-2"},re={class:"grid-cols-1"},ne=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," BALANCE ",-1),de={class:"uppercase font-bold text-xs mb-4"},ce={class:"grid-cols-1"},ue=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," PERCENTAGE ",-1),ve={class:"uppercase font-bold text-xs mb-2"},pe={class:"uppercase text-xs"},_e={class:"uppercase font-bold text-xs"},me=R({__name:"RichlistComponent",props:{transactions:{type:Array,required:!0},supply:{type:Number,required:!0},divisibility:{type:Number,required:!0}},setup(_){const d=_,c=k(!1),A=()=>{window.innerWidth<1024?c.value=!1:c.value=!0};A(),V(()=>{window.addEventListener("resize",A)}),H(()=>{window.removeEventListener("resize",A)});const b=i=>L.convertToCurrency(i,d.divisibility),p=i=>(i/Math.pow(10,d.divisibility)/d.supply*100).toFixed(d.divisibility);return(i,N)=>{const t=S("router-link"),P=z("tooltip");return s(),a("div",null,[_.transactions.length?(s(),a("div",se,[y(v(K),{value:_.transactions,paginator:!0,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{default:r(()=>[c.value?l("v-if",!0):(s(),h(v(x),{key:0,style:{width:"300px"}},{body:r(({data:u})=>[e("div",oe,[ae,y(t,{to:{name:"ViewAccount",params:{accountParam:u.address.pretty()}},class:"mb-6 uppercase font-bold text-xs text-blue-600 hover:text-blue-primary hover:underline truncate inline-flex w-80"},{default:r(()=>[F((s(),a("span",ie,[m(o(u.address.pretty()),1)])),[[P,u.address.pretty(),void 0,{bottom:!0}]]),m("...")]),_:2},1032,["to"]),e("div",le,[e("div",re,[ne,e("div",de,o(b(u.amount.compact())),1)]),e("div",ce,[ue,e("div",ve,o(p(u.amount.compact()))+"% ",1)])])])]),_:1})),c.value?(s(),h(v(x),{key:1,style:{width:"30px"}})):l("v-if",!0),c.value?(s(),h(v(x),{key:2,field:"ADDRESS",header:"ADDRESS",style:{width:"450px"}},{body:r(({data:u})=>[e("span",null,[y(t,{to:{name:"ViewAccount",params:{accountParam:u.address.pretty()}},class:"uppercase text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:r(()=>[m(o(u.address.pretty()),1)]),_:2},1032,["to"])])]),_:1})):l("v-if",!0),c.value?(s(),h(v(x),{key:3,field:"BALANCE",header:"BALANCE",style:{width:"250px"}},{body:r(({data:u})=>[e("span",pe,o(b(u.amount.compact())),1)]),_:1})):l("v-if",!0),c.value?(s(),h(v(x),{key:4,field:"PERCENTAGE",header:"PERCENTAGE",style:{width:"150px"}},{body:r(({data:u})=>[e("span",_e,o(p(u.amount.compact()))+"%",1)]),_:1})):l("v-if",!0)]),_:1},8,["value"])])):(s(),a("div",te," No record found "))])}}}),be=D(me,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/asset/components/RichlistComponent.vue"]]),he={key:0,class:"ml-10 text-tsm"},ye={key:1},xe={class:"mb-2"},fe={class:"grid grid-cols-2"},ge={class:"grid-cols-1"},we=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," Scoped Metadata Key ",-1),ke={key:0,class:"text-xs"},Ae=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),Ce={key:1,class:"mt-1 text-xs"},$e=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),Pe={class:"grid-cols-1"},Ee=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," Current Value ",-1),Le={class:"text-xs mb-2"},Ne={key:0,class:"text-xs"},Me=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," hex ",-1),Re={key:1,class:"mt-1 text-xs"},Se=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),De={class:"text-xs"},Te=R({__name:"MetadataComponent",props:{metadata:{type:Array,required:!0}},setup(_){const d=k(!1),c=()=>{window.innerWidth<1024?d.value=!1:d.value=!0};return c(),V(()=>{window.addEventListener("resize",c)}),H(()=>{window.removeEventListener("resize",c)}),(A,b)=>{const p=S("router-link");return s(),a("div",null,[_.metadata.length==0?(s(),a("div",he," No record found ")):(s(),a("div",ye,[y(v(K),{value:_.metadata,paginator:!1,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{default:r(()=>[d.value?l("v-if",!0):(s(),h(v(x),{key:0,style:{width:"300px"}},{body:r(({data:i})=>[e("div",xe,[e("div",fe,[e("div",ge,[we,i.scopedMetadataKeyHex?(s(),a("div",ke,[y(p,{to:{name:"ViewMetadata",params:{compositeHash:i.compositeHash}},class:"text-blue-600 hover:text-blue-primary uppercase hover:underline"},{default:r(()=>[m(o(i.scopedMetadataKeyHex),1)]),_:2},1032,["to"]),Ae])):l("v-if",!0),i.scopedMetadataKeyUtf8?(s(),a("div",Ce,[m(o(i.scopedMetadataKeyUtf8)+" ",1),$e])):l("v-if",!0)]),e("div",Pe,[Ee,e("div",Le,o(i.value),1)])])])]),_:1})),d.value?(s(),h(v(x),{key:1,style:{width:"10px"}})):l("v-if",!0),d.value?(s(),h(v(x),{key:2,field:"SCOPED METADATA KEY",header:"SCOPED METADATA KEY",style:{width:"250px"}},{body:r(({data:i})=>[i.scopedMetadataKeyHex?(s(),a("div",Ne,[y(p,{to:{name:"ViewMetadata",params:{compositeHash:i.compositeHash}},class:"text-blue-600 hover:text-blue-primary uppercase hover:underline"},{default:r(()=>[m(o(i.scopedMetadataKeyHex),1)]),_:2},1032,["to"]),Me])):l("v-if",!0),i.scopedMetadataKeyUtf8?(s(),a("div",Re,[m(o(i.scopedMetadataKeyUtf8)+" ",1),Se])):l("v-if",!0),l(' <div class="uppercase text-xs pt-1" v-if="data.scopedMetadataKeyUtf8">{{data.scopedMetadataKeyUtf8 + "  (utf-8)"}}</div> ')]),_:1})):l("v-if",!0),d.value?(s(),h(v(x),{key:3,field:"CURRENT VALUE",header:"CURRENT VALUE",style:{width:"150px"}},{body:r(({data:i})=>[e("span",De,o(i.value),1)]),_:1})):l("v-if",!0)]),_:1},8,["value"])]))])}}}),Ie=D(Te,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/asset/components/MetadataComponent.vue"]]),n=_=>(X("data-v-cd9ca62c"),_=_(),Z(),_),Ve={key:0,class:"text-gray-500 mb-5 font-bold"},He={class:"text-blue-primary text-md font-bold uppercase"},Ke=n(()=>e("div",{class:"text-txs text-gray-400 font-normal mt-1"},"Asset",-1)),Ue={key:1},ze=n(()=>e("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Asset Details",-1)),Fe=[ze],Be={key:2},je=n(()=>e("div",{class:"flex justify-center items-center border-gray-400 mt-10 mb-20"},[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),e("span",{class:"text-tsm"},"Fetching Asset Details")],-1)),qe=[je],Ge={key:3},Oe={class:"md:grid md:grid-cols-2"},We={class:"filter shadow-xl border border-gray-50 p-5 mb-15 md:mr-2"},Ye=n(()=>e("div",{class:"text-xs font-bold mb-5 ml-2"},"Overview",-1)),Je={class:"txn-div"},Qe={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Xe=n(()=>e("div",{class:"font-bold col-span-2"},"Asset ID",-1)),Ze={class:"font-bold uppercase"},et={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},tt=n(()=>e("div",{class:"font-bold col-span-2"},"Alias",-1)),st={key:0,class:"font-bold uppercase"},ot={key:0,class:"text-black mr-1 ml-1"},at={key:1,class:"text-black mr-1 ml-1"},it={key:1,class:"font-bold col-span-2"},lt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},rt=n(()=>e("div",{class:"font-bold col-span-2"},"Total Supply",-1)),nt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},dt=n(()=>e("div",{class:"font-bold col-span-2"},"Decimals",-1)),ct={class:"filter shadow-xl border border-gray-50 p-5 mb-15 sm:ml-2"},ut=n(()=>e("div",{class:"text-xs font-bold mb-5 ml-2"},"More Info",-1)),vt={class:"txn-div"},pt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},_t=n(()=>e("div",{class:"font-bold col-span-2"},"Creator Address",-1)),mt={class:"break-all uppercase col-span-3"},bt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},ht=n(()=>e("div",{class:"font-bold col-span-2"},"Block",-1)),yt={class:"col-span-3"},xt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},ft=n(()=>e("div",{class:"font-bold col-span-2"},"Expiry",-1)),gt={class:"col-span-3"},wt={class:"py-4 text-xs grid grid-cols-4 border-b border-gray-100"},kt=n(()=>e("div",null,"Supply Mutable",-1)),At={class:"font-bold text-green-600 w-24 ml-10"},Ct=n(()=>e("div",null,"Transferable",-1)),$t={class:"font-bold text-green-600 w-24 ml-5"},Pt={class:"py-4 text-xs grid grid-cols-4 border-b border-gray-100"},Et=n(()=>e("div",null,"Restrictable",-1)),Lt={class:"font-bold text-green-600 w-24 ml-10"},Nt=n(()=>e("div",null,"Supply Force Immutable",-1)),Mt={class:"font-bold text-green-600 w-24 ml-5"},Rt={class:"py-4 text-xs grid grid-cols-4 border-b border-gray-100"},St=n(()=>e("div",null,"Disable Locking",-1)),Dt={class:"font-bold text-green-600 w-24 ml-10"},Tt={class:"filter shadow-xl border border-gray-50 p-5 mb-15"},It={class:"flex items-center mb-4 border-b border-gray-100 relative"},Vt={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},Ht={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},Kt={key:4},Ut={class:"p-3 bg-yellow-100 text-yellow-700"},zt=R({__name:"ViewAsset",props:{id:{type:String,required:!0}},setup(_){const d=_,c=W(),A=c==null?void 0:c.appContext.config.globalProperties.emitter,b=k("rich"),p=k(!1),i=k([]),N=k([]),t=k(null),P=f=>{b.value=f},u=B(()=>j.chainNetworkName),M=async()=>{try{if(!Y.isReady&&!u.value){setTimeout(M,1e3);return}const f=await ee.getAssetMetadata(d.id);N.value=f;const g=await E.getAssetProperties(d.id),$=await E.getRichList(d.id);if(g){p.value=!1,t.value=g,i.value=$;return}else{let C=new J.NamespaceId(d.id.toLowerCase());const w=await Q.fetchNamespaceInfo(C.toHex());if(w)if(p.value=!1,w.alias.type==1){const T=await E.getAssetProperties(w.alias.id),U=await E.getRichList(w.alias.id);T&&(t.value=T,i.value=U)}else t.value=null,p.value=!0;else t.value=null,p.value=!0}}catch(f){t.value=null,p.value=!0,console.log(f)}};return M(),A.on("CHANGE_NETWORK",f=>{f&&(t.value=null,p.value=!1,M())}),(f,g)=>{const $=S("router-link");return s(),a("div",null,[t.value&&t.value.name?(s(),a("div",Ve,[e("div",He,o(t.value.name),1),Ke])):(s(),a("div",Ue,[...Fe])),!p.value&&!t.value?(s(),a("div",Be,[...qe])):t.value?(s(),a("div",Ge,[e("div",Oe,[e("div",We,[Ye,e("div",Je,[e("div",Qe,[Xe,e("div",Ze,o(t.value.assetId),1)]),e("div",et,[tt,t.value.namespaceId.length>0?(s(),a("div",st,[(s(!0),a(q,null,G(t.value.namespaceId,(C,w)=>(s(),a("div",{key:w,class:"inline-block"},[y($,{to:{name:"ViewNamespace",params:{namespaceParam:C.name}},class:"text-xs font-semibold text-blue-600 col-span-3 hover:text-blue-primary uppercase hover:underline"},{default:r(()=>[m(o(C.name),1)]),_:2},1032,["to"]),t.value.namespaceId.length>1&&w!=t.value.namespaceId.length-1?(s(),a("span",ot,o("/"))):(s(),a("span",at,o("")))]))),128))])):(s(),a("div",it,"-"))]),e("div",lt,[rt,e("div",null,o(v(L).toCurrencyFormat(t.value.supply,t.value.divisibility)=="NaN"?"":v(L).toCurrencyFormat(t.value.supply,t.value.divisibility)),1)]),e("div",nt,[dt,e("div",null,o(t.value.divisibility),1)])])]),e("div",ct,[ut,e("div",vt,[e("div",pt,[_t,e("div",mt,[y($,{to:{name:"ViewAccount",params:{accountParam:t.value.owner}},class:"uppercase text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:r(()=>[m(o(v(L).createAddress(t.value.owner).pretty()),1)]),_:1},8,["to"])])]),e("div",bt,[ht,e("div",yt,[y($,{to:{name:"ViewBlock",params:{blockHeight:t.value.height}},class:"truncate inline-block break-all text-blue-600 hover:text-blue-primary hover:underline"},{default:r(()=>[m(o(t.value.height),1)]),_:1},8,["to"])])]),e("div",xt,[ft,e("div",gt,o(t.value.expiry==0?"NIL":t.value.expiry),1)]),e("div",wt,[kt,e("div",At,o(t.value.supplyMutable),1),Ct,e("div",$t,o(t.value.transferable),1)]),e("div",Pt,[Et,e("div",Lt,o(t.value.restrictable),1),Nt,e("div",Mt,o(t.value.supplyForceImmutable),1)]),e("div",Rt,[St,e("div",Dt,o(t.value.disableLocking),1)])])])]),e("div",Tt,[e("div",It,[e("div",{class:I(["w-32 font-bold text-xs text-center p-2 relative",`${b.value=="rich"?"":"cursor-pointer"}`]),onClick:g[0]||(g[0]=C=>P("rich"))},[m(" Richlist "),b.value=="rich"?(s(),a("div",Vt)):l("v-if",!0)],2),e("div",{class:I(["w-32 font-bold text-xs text-center p-2 relative",`${b.value=="metadata"?"":"cursor-pointer"}`]),onClick:g[1]||(g[1]=C=>P("metadata"))},[m(" Metadata "),b.value=="metadata"?(s(),a("div",Ht)):l("v-if",!0)],2)]),y(O,{name:"slide"},{default:r(()=>[b.value=="rich"?(s(),h(be,{key:0,transactions:i.value,supply:t.value.supply,divisibility:t.value.divisibility},null,8,["transactions","supply","divisibility"])):b.value=="metadata"?(s(),h(Ie,{key:1,metadata:N.value},null,8,["metadata"])):l("v-if",!0)]),_:1})])])):(s(),a("div",Kt,[e("div",Ut," Asset is not available in "+o(u.value),1)]))])}}});const Gt=D(zt,[["__scopeId","data-v-cd9ca62c"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/asset/views/ViewAsset.vue"]]);export{Gt as default};
