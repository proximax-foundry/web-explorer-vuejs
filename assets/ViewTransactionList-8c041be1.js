import{d as ie,r as o,s as E,H as C,e as n,f as d,i as g,g as ce,u as a,m as B,G as Q,J as ue,F as de,v as pe,t as N,h as p,l as X,j as z,n as ve,A as R,T as u,x as Te,y as be,K as ge,_ as ye}from"./index-db33c14d.js";import{T as e,E as me,a as xe,A as fe,b as ke,c as Ce,d as Ae,N as Ee,M as _e,e as he,L as Ne,f as Re,R as Se,S as Ge,C as Ie,g as v}from"./ExportCSVComponent-6cace33e.js";import{M as we}from"./MixedTxnDataTable-73382efe.js";import"./column.esm-31eeef0d.js";import"./proximax-logo-gray-d9718656.js";const S=A=>(Te("data-v-5bf67df9"),A=A(),be(),A),De={class:"flex justify-between"},Fe=S(()=>g("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Transactions",-1)),Oe={class:"bg-gray-50"},Le=S(()=>g("option",{value:"all",class:"text-sm"},"All",-1)),Me=["value"],Pe={key:0},He=S(()=>g("div",{class:"flex justify-center items-center border-gray-400 mt-5"},[g("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),g("span",{class:"text-tsm"},"Fetching transactions")],-1)),Ve=[He],Ke={key:1},je={key:14,class:"sm:flex sm:justify-between my-5 mb-15"},Ue={class:"text-xs text-gray-700 mb-3 sm:mb-0 text-center sm:text-left"},Be=ge('<option value="10" data-v-5bf67df9>10</option><option value="20" data-v-5bf67df9>20</option><option value="30" data-v-5bf67df9>30</option><option value="40" data-v-5bf67df9>40</option><option value="50" data-v-5bf67df9>50</option>',5),Qe=[Be],Xe={class:"sm:flex sm:items-center text-center sm:text-right"},ze={key:1,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Je={key:3,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},We={class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs"},qe={key:5,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ye={key:7,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ze=ie({__name:"ViewTransactionList",setup(A){const _=ve(),J=_==null?void 0:_.appContext.config.globalProperties.emitter;let t=o("all");const x=o(!0);let W=Object.entries(e).map(([s,r])=>({label:s,value:r}));const l=o(20),y=o(1),f=o(0),q=E(()=>y.value>1),Y=E(()=>y.value>1),Z=E(()=>f.value-y.value>0),$=E(()=>y.value<f.value),ee=()=>{y.value=1,m()},ae=()=>{--y.value,m()},te=()=>{++y.value,m()},se=()=>{y.value=f.value,m()},ne=()=>{y.value=1,m()},k=o([]),G=o([]),I=o([]),w=o([]),D=o([]),F=o([]),O=o([]),L=o([]),M=o([]),P=o([]),H=o([]),V=o([]),K=o([]),j=o([]),U=o([]),i=o(void 0);let T=C.getTransactionGroupType(),re=C.createTransactionFieldOrder(C.getTransactionSortField().BLOCK,C.getQueryParamOrder_v2().DESC),m=async()=>{if(x.value=!0,!R.isReady){setTimeout(m,1e3);return}if(!R.chainAPI)return;let s=C.createTransactionQueryParams(),r=await R.chainAPI.chainAPI.getBlockchainHeight();s.pageSize=l.value,s.pageNumber=y.value,t.value==null||t.value=="all"?s.embedded=!1:s.embedded=!0;let b=r-2e5;b<=0&&(b=1),s.fromHeight=b,i.value!=null&&(s.type=i.value),s.updateFieldOrder(re);let h=await u.searchTxns(T.CONFIRMED,s);if(h.transactions.length>0){let c=await le(h.transactions);k.value=c,t.value=="all"&&(G.value=c),t.value==e.TRANSFER&&(I.value=c),t.value==e.ACCOUNT&&(w.value=c),t.value==e.AGGREGATE&&(D.value=c),t.value==e.ALIAS&&(F.value=c),t.value==e.ASSET&&(O.value=c),t.value==e.NAMESPACE&&(L.value=c),t.value==e.METADATA&&(M.value=c),t.value==e.EXCHANGE&&(P.value=c),t.value==e.LOCK&&(H.value=c),t.value==e.LINK&&(V.value=c),t.value==e.RESTRICTION&&(K.value=c),t.value==e.SECRET&&(j.value=c),t.value==e.CHAIN&&(U.value=c),f.value=h.pagination.totalPages}else k.value=[];x.value=!1};m();const oe=()=>{switch(x.value=!0,k.value=[],t.value){case e.TRANSFER:i.value=v.getTransferTypes();break;case e.ACCOUNT:i.value=v.getAccountTypes();break;case e.ASSET:i.value=v.getAssetTypes();break;case e.ALIAS:i.value=v.getAliasTypes();break;case e.NAMESPACE:i.value=v.getNamespaceTypes();break;case e.METADATA:i.value=v.getMetadataTypes();break;case e.CHAIN:i.value=v.getChainTypes();break;case e.EXCHANGE:i.value=v.getExchangeTypes();break;case e.AGGREGATE:i.value=v.getAggregateTypes();break;case e.LINK:i.value=v.getLinkTypes();break;case e.LOCK:i.value=v.getLockTypes();break;case e.SECRET:i.value=v.getSecretTypes();break;case e.RESTRICTION:i.value=v.getRestrictionTypes();break;default:i.value=void 0;break}m()},le=async s=>{let r=[];switch(t.value){case e.TRANSFER:r=await u.formatConfirmedMixedTxns(s);break;case e.ACCOUNT:r=await u.formatConfirmedAccountTransaction(s);break;case e.AGGREGATE:r=await u.formatConfirmedAggregateTransaction(s);break;case e.RESTRICTION:r=await u.formatConfirmedRestrictionTransaction(s);break;case e.SECRET:r=await u.formatConfirmedSecretTransaction(s);break;case e.ALIAS:r=await u.formatConfirmedAliasTransaction(s);break;case e.ASSET:r=await u.formatConfirmedAssetTransaction(s);break;case e.METADATA:r=await u.formatConfirmedMetadataTransaction(s);break;case e.CHAIN:r=await u.formatConfirmedChainTransaction(s);break;case e.EXCHANGE:r=await u.formatConfirmedExchangeTransaction(s);break;case e.LINK:r=await u.formatConfirmedLinkTransaction(s);break;case e.LOCK:r=await u.formatConfirmedLockTransaction(s);break;case e.NAMESPACE:r=await u.formatConfirmedNamespaceTransaction(s);break;default:r=await u.formatConfirmedMixedTxns(s);break}return r};return J.on("CHANGE_NETWORK",s=>{x.value=!0,s&&m()}),(s,r)=>(n(),d("div",null,[g("div",De,[Fe,g("div",Oe,[ce(me,{selectedTxnType:a(t),transactions:k.value,disabled:x.value||k.value.length==0},null,8,["selectedTxnType","transactions","disabled"]),B(g("select",{"onUpdate:modelValue":r[0]||(r[0]=b=>ue(t)?t.value=b:t=b),onChange:oe,class:"border border-gray-200 px-2 py-1 focus:outline-none"},[Le,(n(!0),d(de,null,pe(a(W),b=>(n(),d("option",{key:b.value,value:b.value,class:"text-sm"},N(b.label),9,Me))),128))],544),[[Q,a(t)]])])]),x.value?(n(),d("div",Pe,Ve)):(n(),d("div",Ke,[a(t)=="all"?(n(),p(we,{key:0,transactions:G.value,pages:l.value},null,8,["transactions","pages"])):a(t)===a(e).TRANSFER?(n(),p(xe,{key:1,transactions:I.value,pages:l.value},null,8,["transactions","pages"])):a(t)===a(e).ACCOUNT?(n(),p(fe,{key:2,transactions:w.value,pages:l.value},null,8,["transactions","pages"])):a(t)===a(e).AGGREGATE?(n(),p(ke,{key:3,transactions:D.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).ALIAS?(n(),p(Ce,{key:4,transactions:F.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).ASSET?(n(),p(Ae,{key:5,transactions:O.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).NAMESPACE?(n(),p(Ee,{key:6,transactions:L.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).METADATA?(n(),p(_e,{key:7,transactions:M.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).EXCHANGE?(n(),p(he,{key:8,transactions:P.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).LOCK?(n(),p(Ne,{key:9,transactions:H.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).LINK?(n(),p(Re,{key:10,transactions:V.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).RESTRICTION?(n(),p(Se,{key:11,transactions:K.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).SECRET?(n(),p(Ge,{key:12,transactions:j.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):a(t)===a(e).CHAIN?(n(),p(Ie,{key:13,transactions:U.value,pages:l.value,selectedGroupType:a(T).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):X("v-if",!0),f.value>1&&k.value.length>0?(n(),d("div",je,[g("div",Ue,[z(" Show "),B(g("select",{"onUpdate:modelValue":r[1]||(r[1]=b=>l.value=b),class:"border border-gray-300 rounded-md p-1",onChange:ne},Qe,544),[[Q,l.value]]),z(" Records ")]),g("div",Xe,[a(q)?(n(),d("div",{key:0,onClick:ee,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," First ")):(n(),d("div",ze," First ")),a(Y)?(n(),d("div",{key:2,onClick:ae,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Previous ")):(n(),d("div",Je," Previous ")),g("div",We," Page "+N(y.value)+" of "+N(f.value),1),a(Z)?(n(),d("div",{key:4,onClick:te,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Next ")):(n(),d("div",qe," Next ")),a($)?(n(),d("div",{key:6,onClick:se,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs ml-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Last ")):(n(),d("div",Ye," Last "))])])):X("v-if",!0)]))]))}});const na=ye(Ze,[["__scopeId","data-v-5bf67df9"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewTransactionList.vue"]]);export{na as default};
