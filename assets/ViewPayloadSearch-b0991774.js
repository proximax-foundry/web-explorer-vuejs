import{e as o,f as i,z as x,d as g,r as u,s as T,C as w,k as l,i as r,g as y,u as b,l as C,x as k,y as z,am as A,_ as S}from"./index-8113cdf5.js";import{V}from"./ViewPayload-502a8da6.js";var _={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const s=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${s.borderTopWidth} + ${s.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(s){this.autoResize&&this.resize(),this.$emit("update:modelValue",s.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const $=["value"];function I(s,e,n,t,a,d){return o(),i("textarea",{class:x(["p-inputtextarea p-inputtext p-component",{"p-filled":d.filled,"p-inputtextarea-resizable ":n.autoResize}]),value:n.modelValue,onInput:e[0]||(e[0]=(...p)=>d.onInput&&d.onInput(...p))},null,42,$)}function N(s,e){e===void 0&&(e={});var n=e.insertAt;if(!(!s||typeof document>"u")){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}}var P=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;N(P);_.render=I;function D(s,e){e===void 0&&(e={});var n=e.insertAt;if(!(!s||typeof document>"u")){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}}var E=`
.p-accordion-header-action {
    cursor: pointer;
    display: flex;
    align-items: center;
    user-select: none;
    position: relative;
    text-decoration: none;
}
.p-accordion-header-action:focus {
    z-index: 1;
}
.p-accordion-header-text {
    line-height: 1;
}
`;D(E);const v=s=>(k("data-v-3a7659a0"),s=s(),z(),s),M={class:"flex justify-center"},B={class:"flex border rounded-lg border-gray-900"},j={key:0,class:"flex justify-center items-center w-10"},R=v(()=>r("div",{class:"flex justify-center items-center border-gray-400"},[r("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"})],-1)),F=[R],O=v(()=>r("img",{src:A,class:"w-4 inline-block search"},null,-1)),U=[O],H={key:0},Y={key:1},W={key:0},q={key:1},G=v(()=>r("div",{class:"pb-14 pt-2"},[r("div",{class:"p-3 bg-yellow-100 text-yellow-700"}," Unable to decode transaction payload. Make sure it is a correct payload. ")],-1)),J=[G],K={key:2},L=v(()=>r("div",{class:"pb-14 pt-2"},[r("div",{class:"p-3 bg-yellow-100 text-yellow-700"}," Deprecated transaction type found. ")],-1)),Q=[L],X=g({__name:"ViewPayloadSearch",setup(s){const e=u(""),n=u(!1),t=u(!0),a=u(!1);u(!0),u("");const d=u("");T(()=>w.chainNetworkName);const p=[l.TransactionType.MODIFY_ACCOUNT_METADATA,l.TransactionType.MODIFY_MOSAIC_METADATA,l.TransactionType.MODIFY_NAMESPACE_METADATA],m=async()=>{if(a.value=!1,e.value.length==0)n.value=!1,t.value=!1;else{if(n.value=!0,e.value=e.value.trim(),!l.Convert.isHexString(e.value)||e.value.length<=122*2){t.value=!1,n.value=!1;return}let f=parseInt(l.Convert.hexReverse(e.value.substring(0,8)),16);if(e.value.length!==f*2){t.value=!1,n.value=!1;return}try{let c=l.TransactionMapping.createFromPayload(e.value);if(p.includes(c.type))a.value=!0;else if(c instanceof l.AggregateTransaction){for(const h of c.innerTransactions)if(h instanceof l.UnknownTransaction){t.value=!1;break}else if(p.includes(h.type)){a.value=!0;break}t.value=!0,d.value=e.value}else c instanceof l.UnknownTransaction?t.value=!1:(t.value=!0,d.value=e.value)}catch{t.value=!1}n.value=!1}};return(f,c)=>(o(),i("div",null,[r("div",M,[r("div",B,[y(b(_),{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=h=>e.value=h),placeholder:"Transaction payload to decode",class:"rounded-lg bg-transparent p-1",autoResize:"",rows:"6",cols:"80"},null,8,["modelValue"]),n.value?(o(),i("div",j,F)):(o(),i("div",{key:1,class:"hover:bg-blue-100 cursor-pointer flex justify-center items-center rounded-r-lg w-10",onClick:m},U))])]),d.value.length==0?(o(),i("div",H)):(o(),i("div",Y,[t.value&&!a.value?(o(),i("div",W,[y(V,{payload:d.value,class:"mt-3"},null,8,["payload"])])):t.value?a.value?(o(),i("div",K,Q)):C("v-if",!0):(o(),i("div",q,J))]))]))}});const te=S(X,[["__scopeId","data-v-3a7659a0"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewPayloadSearch.vue"]]);export{te as default};
