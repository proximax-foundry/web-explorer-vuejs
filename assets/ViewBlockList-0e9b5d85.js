import{d as U,r as h,A as S,a as W,o as G,s as w,b as X,e as s,f as l,g as f,w as a,j as v,h as x,i as e,t as n,u as o,l as p,H as V,T as C,m as $,G as q,n as J,W as Q,x as Y,y as Z,_ as ee}from"./index-db33c14d.js";import{s as b,a as te}from"./column.esm-31eeef0d.js";const i=y=>(Y("data-v-090df4e7"),y=y(),Z(),y),se=i(()=>e("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Blocks",-1)),oe={key:0},ae=i(()=>e("div",{class:"flex justify-center items-center border-gray-400 mt-10"},[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),e("span",{class:"text-tsm"},"Fetching Blocks")],-1)),re=[ae],le={key:1},ne=i(()=>e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-1 break-all"}," Block ",-1)),ie=i(()=>e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," Validator ",-1)),ce={class:"uppercase font-bold text-xs"},de={class:"text-ellipsis overflow-hidden"},ue=i(()=>e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," No. of Transactions ",-1)),ve={class:"flex items-center"},pe={class:"uppercase font-bold text-xs mr-2"},xe=i(()=>e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 -mt-7"}," Timestamp ",-1)),be={class:"uppercase font-bold text-xs"},me=i(()=>e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," TX FEE ",-1)),_e={class:"text-xs uppercase font-bold"},he=i(()=>e("div",null,[e("div",{class:"mb-1 mt-5"}),e("div",{class:"mr-2"})],-1)),ye={class:"text-xs"},ge={class:"text-xs"},fe={class:"text-xs"},ke=i(()=>e("div",{class:"mb-12"},null,-1)),we={key:2,class:"sm:flex sm:justify-between my-5 mb-15"},Pe={class:"text-xs text-gray-700 mb-3 sm:mb-0 text-center sm:text-left"},Te=i(()=>e("option",{value:"25"},"25",-1)),Ne=i(()=>e("option",{value:"50"},"50",-1)),Le=i(()=>e("option",{value:"75"},"75",-1)),Be=[Te,Ne,Le],Se={class:"sm:flex sm:items-center text-center sm:text-right"},Ve={key:1,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ce={key:3,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Fe={class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs"},Ae={key:5,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ee={key:7,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Re=U({__name:"ViewBlockList",props:{blockHeight:Number},setup(y){const F=y,P=J(),A=P==null?void 0:P.appContext.config.globalProperties.emitter,d=h(!0),c=h(!1),B=S.nativeToken.label,T=()=>{window.innerWidth<1024?c.value=!1:c.value=!0};T(),W(()=>{window.removeEventListener("resize",T)}),G(()=>{window.addEventListener("resize",T)});const m=h(25),r=h(1),g=h(100/25),E=w(()=>r.value>1),R=w(()=>r.value>1),H=w(()=>g.value-r.value>0),I=w(()=>r.value<g.value),D=()=>{r.value=1,d.value=!0,u()},K=()=>{--r.value,d.value=!0,u()},O=()=>{++r.value,d.value=!0,u()},j=()=>{r.value=g.value,d.value=!0,u()},M=()=>{r.value=1,d.value=!0,u()},N=h([]);let u=async()=>{if(!S.isReady){setTimeout(u,1e3);return}let _=await Q.getBlocksList(F.blockHeight);N.value=z(_),g.value=Math.ceil(100/m.value),d.value=!1};u();let z=_=>_.slice((r.value-1)*m.value,r.value*m.value);return A.on("CHANGE_NETWORK",_=>{d.value=!0,_&&u()}),(_,L)=>{const k=X("router-link");return s(),l("div",null,[se,d.value?(s(),l("div",oe,re)):(s(),l("div",le,[f(o(te),{value:N.value,paginator:!1,rows:Number(m.value),scrollDirection:"horizontal",alwaysShowPaginator:!1,responsiveLayout:"scroll",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:""},{empty:a(()=>[v(" No transaction found ")]),loading:a(()=>[v(" Fetching transactions ")]),default:a(()=>[c.value?p("v-if",!0):(s(),x(o(b),{key:0,style:{width:"200px"}},{body:a(({data:t})=>[e("div",null,[ne,f(k,{to:{name:"ViewBlock",params:{blockHeight:t.height.compact()}},class:"text-xs text-blue-600 hover:text-blue-primary font-bold hover:underline"},{default:a(()=>[v(n(t.height.compact()),1)]),_:2},1032,["to"])]),e("div",null,[ie,e("div",ce,[f(k,{to:{name:"ViewAccount",params:{accountParam:t.signer.publicKey}},class:"truncate text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex w-40"},{default:a(()=>[e("span",de,n(t.signer.publicKey),1),v("...")]),_:2},1032,["to"])])]),e("div",null,[ue,e("div",ve,[e("div",pe,n(t.numTransactions),1)])])]),_:1})),c.value?p("v-if",!0):(s(),x(o(b),{key:1,style:{width:"200px"}},{body:a(({data:t})=>[e("div",null,[xe,e("div",be,n(o(V).formatDeadline(t.timestamp.compact())),1)]),e("div",null,[me,e("div",_e,n(o(C).convertToExactNativeAmount(t.totalFee.compact())+" "+o(B)),1)]),he]),_:1})),c.value?(s(),x(o(b),{key:2,field:"timestamp",header:"BLOCK",headerStyle:"width:100px"},{body:a(({data:t})=>[f(k,{to:{name:"ViewBlock",params:{blockHeight:t.height.compact()}},class:"text-xs text-blue-600 hover:text-blue-primary hover:underline"},{default:a(()=>[v(n(t.height.compact()),1)]),_:2},1032,["to"])]),_:1})):p("v-if",!0),c.value?(s(),x(o(b),{key:3,field:"timestamp",header:"TIMESTAMP",headerStyle:"width:200px"},{body:a(({data:t})=>[e("span",ye,n(o(V).formatDeadline(t.timestamp.compact())),1)]),_:1})):p("v-if",!0),c.value?(s(),x(o(b),{key:4,field:"signer",header:"VALIDATOR",headerStyle:"width:150px"},{body:a(({data:t})=>[f(k,{to:{name:"ViewAccount",params:{accountParam:t.signer.publicKey}},class:"truncate text-xs text-blue-600 hover:text-blue-primary hover:underline"},{default:a(()=>[v(n(t.signer.publicKey),1)]),_:2},1032,["to"])]),_:1})):p("v-if",!0),c.value?(s(),x(o(b),{key:5,field:"type",header:"NO. OF TRANSACTIONS",headerStyle:"width:150px"},{body:a(({data:t})=>[e("span",ge,n(t.numTransactions),1)]),_:1})):p("v-if",!0),c.value?(s(),x(o(b),{key:6,field:"block",header:"TX FEE",headerStyle:"width:120px"},{body:a(({data:t})=>[e("span",fe,n(o(C).convertToExactNativeAmount(t.totalFee.compact())+" "+o(B)),1)]),_:1})):p("v-if",!0)]),_:1},8,["value","rows"]),ke])),N.value.length>1?(s(),l("div",we,[e("div",Pe,[v(" Show "),$(e("select",{"onUpdate:modelValue":L[0]||(L[0]=t=>m.value=t),class:"border border-gray-300 rounded-md p-1",onChange:M},Be,544),[[q,m.value]]),v(" Records ")]),e("div",Se,[o(E)?(s(),l("div",{key:0,onClick:D,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," First ")):(s(),l("div",Ve," First ")),o(R)?(s(),l("div",{key:2,onClick:K,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Previous ")):(s(),l("div",Ce," Previous ")),e("div",Fe," Page "+n(r.value)+" of "+n(g.value),1),o(H)?(s(),l("div",{key:4,onClick:O,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Next ")):(s(),l("div",Ae," Next ")),o(I)?(s(),l("div",{key:6,onClick:j,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs ml-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Last ")):(s(),l("div",Ee," Last "))])])):p("v-if",!0)])}}});const De=ee(Re,[["__scopeId","data-v-090df4e7"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/block/views/ViewBlockList.vue"]]);export{De as default};
