import{d as le,r as d,a as Te,o as ye,H as D,s as P,A as $,G as me,C as fe,b as ge,c as he,e as t,f as c,g as M,w as x,j as m,h as l,i as o,m as L,t as v,u as e,l as f,F as ie,v as ce,_ as ue,J as re,K as ke,n as _e,T as y,x as Ee,y as Ce,L as Ae}from"./index-abee9675.js";import{T as a,E as Ne,a as we,A as Ge,b as Se,c as De,d as Re,N as Ie,M as Fe,e as Le,L as Oe,f as Pe,R as Me,S as He,C as $e,g as h}from"./ExportCSVComponent-e397f86b.js";import{M as Ve}from"./MixedTxnDataTable-94ba9b02.js";import{s as S,a as Be}from"./column.esm-232cf9aa.js";import"./proximax-logo-gray-d9718656.js";const Ke=o("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1"}," TX Hash ",-1),Xe={class:"text-xs break-all hover:underline hover:text-blue-primary truncate inline-flex text-ellipsis overflow-hidden w-44"},je=o("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," Type ",-1),Ue={class:"flex items-center"},ze={class:"uppercase font-bold text-xs mr-2"},Qe=o("div",{class:"text-xs text-gray-300 font-bold mb-1 mt-5"},"Block",-1),We={class:"flex items-center"},Je={key:0},qe=o("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1"}," Timestamp ",-1),Ye={class:"uppercase font-bold text-xs"},Ze=o("div",{class:"uppercase text-xs text-gray-300 font-bold mb-1 mt-5"}," Duration ",-1),ea={class:"flex items-center"},aa={class:"text-xs font-bold"},ta={class:"text-ellipsis overflow-hidden w-44"},sa={class:"text-xs"},oa={class:"text-xs"},na={class:"text-xs"},ra={key:0},la={key:0,class:"mr-2"},ia={class:"inline-block"},ca={key:0,class:"mr-2"},ua={class:"inline-block"},da={key:0},pa=le({__name:"SdaExchangeTxnDataTable",props:{transactions:Array,pages:Number,selectedGroupType:String},setup(C){const g=d(!1),O=()=>{window.innerWidth<1024?g.value=!1:g.value=!0};O(),Te(()=>{window.removeEventListener("resize",O)}),ye(()=>{window.addEventListener("resize",O)});const s=D.getTransactionGroupType(),G=P(()=>$.nativeToken.label),H=R=>D.convertDisplayDateTimeFormat24(R);let p=new me(fe.chainNetworkName);p.init();let k=parseInt(p.blockGenerationTargetTime);const A=R=>R/(60/k*60)/24;return(R,V)=>{const N=ge("router-link"),I=he("tooltip");return t(),c("div",null,[M(e(Be),{value:C.transactions,paginator:!1,rows:Number(C.pages),scrollDirection:"horizontal",alwaysShowPaginator:!1,responsiveLayout:"scroll",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{empty:x(()=>[m(" No transaction found ")]),loading:x(()=>[m(" Fetching transactions ")]),default:x(()=>[g.value?f("v-if",!0):(t(),l(e(S),{key:0,style:{width:"200px"}},{body:x(({data:n})=>[o("div",null,[Ke,M(N,{class:"uppercase font-bold text-xs block text-blue-600 hover:text-blue-primary hover:underline",to:{name:"ViewTransaction",params:{hash:n.hash}}},{default:x(()=>[L((t(),c("span",Xe,[m(v(n.hash),1)])),[[I,n.hash,void 0,{right:!0}]]),m("... ")]),_:2},1032,["to"])]),o("div",null,[je,o("div",Ue,[o("div",ze,v(n.typeName),1)])]),o("div",null,[Qe,o("div",We,[M(N,{to:{name:"ViewBlock",params:{blockHeight:n.block}},class:"text-blue-600 hover:text-blue-primary hover:underline text-xs"},{default:x(()=>[m(v(n.block),1)]),_:2},1032,["to"])])])]),_:1})),g.value?f("v-if",!0):(t(),l(e(S),{key:1,style:{width:"200px"}},{body:x(({data:n})=>[C.selectedGroupType===e(s).CONFIRMED?(t(),c("div",Je,[qe,o("div",Ye,v(H(n.timestamp)),1)])):f("v-if",!0),o("div",null,[Ze,o("div",ea,[L((t(),c("span",aa,[m(v(n.duration?n.duration+" Block"+(n.duration>1?"s":""):"-"),1)])),[[I,{value:`<tiptext>Approximately ${A(n.duration)} Day${A(n.duration)>1?"s":""}</tiptext>`,escape:!0},void 0,{left:!0}]])])])]),_:1})),g.value?(t(),l(e(S),{key:2,field:"hash",header:"TX Hash",headerStyle:"width:100px;text-transform:uppercase"},{body:x(({data:n})=>[L((t(),l(N,{to:{name:"ViewTransaction",params:{hash:n.hash}},class:"text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:x(()=>[o("span",ta,v(n.hash),1),m("...")]),_:2},1032,["to"])),[[I,n.hash,void 0,{bottom:!0}]])]),_:1})):f("v-if",!0),C.selectedGroupType===e(s).CONFIRMED&&g.value?(t(),l(e(S),{key:3,field:"timestamp",header:"Timestamp",headerStyle:"width:110px;text-transform:uppercase"},{body:x(({data:n})=>[o("span",sa,v(H(n.timestamp)),1)]),_:1})):f("v-if",!0),g.value?(t(),l(e(S),{key:4,field:"typeName",header:"Type",headerStyle:"width:110px;text-transform:uppercase"},{body:x(({data:n})=>[o("span",oa,v(n.typeName),1)]),_:1})):f("v-if",!0),C.selectedGroupType===e(s).CONFIRMED&&g.value?(t(),l(e(S),{key:5,field:"block",header:"Block",headerStyle:"width:110px;text-transform:uppercase"},{body:x(({data:n})=>[M(N,{to:{name:"ViewBlock",params:{blockHeight:n.block}},class:"text-blue-600 hover:text-blue-primary hover:underline text-xs"},{default:x(()=>[m(v(n.block),1)]),_:2},1032,["to"])]),_:1})):f("v-if",!0),C.selectedGroupType===e(s).CONFIRMED&&g.value?(t(),l(e(S),{key:6,header:"TX FEE",headerStyle:"width:110px;text-transform:uppercase"},{body:x(({data:n})=>[o("div",na,[m(v(n.fee)+" ",1),n.fee==0||n.fee>0?(t(),c("b",ra,v(e(G)),1)):f("v-if",!0)])]),_:1})):f("v-if",!0),g.value?(t(),l(e(S),{key:7,header:"OFFERS(GIVE/GET/DURATION)",headerStyle:"width:150px"},{body:x(({data:n})=>[(t(!0),c(ie,null,ce(n.sdaExchange,(u,B)=>L((t(),c("span",{class:"inline-block bg-blue-100 font-bold text-xs py-1 px-2 my-1 mx-1 rounded",key:B},[o("div",null,[u.amountGive?(t(),c("span",la,v(u.amountGive),1)):f("v-if",!0),o("div",ia,[u.sdaGiveNamespace?(t(),l(N,{key:0,to:{name:"ViewAsset",params:{id:u.sdaIdGive}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:x(()=>[m(v(u.sdaGiveNamespace),1)]),_:2},1032,["to"])):(t(),l(N,{key:1,to:{name:"ViewAsset",params:{id:u.sdaIdGive}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:x(()=>[m(v(u.sdaIdGive),1)]),_:2},1032,["to"]))])]),o("div",null,[u.amountGet?(t(),c("span",ca,v(u.amountGet),1)):f("v-if",!0),o("div",ua,[u.sdaGetNamespace?(t(),l(N,{key:0,to:{name:"ViewAsset",params:{id:u.sdaIdGet}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:x(()=>[m(v(u.sdaGetNamespace),1)]),_:2},1032,["to"])):(t(),l(N,{key:1,to:{name:"ViewAsset",params:{id:u.sdaIdGet}},class:"text-blue-600 hover:text-blue-primary flex hover:underline"},{default:x(()=>[m(v(u.sdaIdGet),1)]),_:2},1032,["to"]))])]),u.duration?(t(),c("div",da,v(u.duration?u.duration+" Block"+(u.duration>1?"s":""):"-"),1)):f("v-if",!0)])),[[I,{value:`<tiptext>Approximately ${A(u.duration)} Day${A(u.duration)>1?"s":""}</tiptext>`,disabled:u.duration===void 0,escape:!0},void 0,{left:!0}]])),128))]),_:1})):f("v-if",!0)]),_:1},8,["value","rows"])])}}}),va=ue(pa,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/txnDataTables/SdaExchangeTxnDataTable.vue"]]),X=C=>(Ee("data-v-5bf67df9"),C=C(),Ce(),C),xa={class:"flex justify-between"},ba=X(()=>o("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Transactions",-1)),Ta={class:"bg-gray-50"},ya=X(()=>o("option",{value:"all",class:"text-sm"},"All",-1)),ma=["value"],fa={key:0},ga=X(()=>o("div",{class:"flex justify-center items-center border-gray-400 mt-5"},[o("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),o("span",{class:"text-tsm"},"Fetching transactions")],-1)),ha=[ga],ka={key:1},_a={key:15,class:"sm:flex sm:justify-between my-5 mb-15"},Ea={class:"text-xs text-gray-700 mb-3 sm:mb-0 text-center sm:text-left"},Ca=Ae('<option value="10" data-v-5bf67df9>10</option><option value="20" data-v-5bf67df9>20</option><option value="30" data-v-5bf67df9>30</option><option value="40" data-v-5bf67df9>40</option><option value="50" data-v-5bf67df9>50</option>',5),Aa=[Ca],Na={class:"sm:flex sm:items-center text-center sm:text-right"},wa={key:1,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ga={key:3,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Sa={class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs"},Da={key:5,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ra={key:7,class:"bg-gray-50 inline-block border border-gray-50 rounded-sm px-2 py-1 text-gray-700 text-xs mx-1"},Ia=le({__name:"ViewTransactionList",setup(C){const g=_e(),O=g==null?void 0:g.appContext.config.globalProperties.emitter;let s=d("all");const G=d(!0);let H=Object.entries(a).map(([r,i])=>({label:r,value:i}));const p=d(20),k=d(1),A=d(0),R=P(()=>k.value>1),V=P(()=>k.value>1),N=P(()=>A.value-k.value>0),I=P(()=>k.value<A.value),n=()=>{k.value=1,w()},u=()=>{--k.value,w()},B=()=>{++k.value,w()},de=()=>{k.value=A.value,w()},pe=()=>{k.value=1,w()},F=d([]),j=d([]),U=d([]),z=d([]),Q=d([]),W=d([]),J=d([]),q=d([]),Y=d([]),Z=d([]),ee=d([]),ae=d([]),te=d([]),se=d([]),oe=d([]),ne=d([]),b=d(void 0);let _=D.getTransactionGroupType(),ve=D.createTransactionFieldOrder(D.getTransactionSortField().BLOCK,D.getQueryParamOrder_v2().DESC),w=async()=>{if(G.value=!0,!$.isReady){setTimeout(w,1e3);return}if(!$.chainAPI)return;let r=D.createTransactionQueryParams(),i=await $.chainAPI.chainAPI.getBlockchainHeight();r.pageSize=p.value,r.pageNumber=k.value,s.value==null||s.value=="all"?r.embedded=!1:r.embedded=!0;let E=i-2e5;E<=0&&(E=1),r.fromHeight=E,b.value!=null&&(r.type=b.value),r.updateFieldOrder(ve);let K=await y.searchTxns(_.CONFIRMED,r);if(K.transactions.length>0){let T=await be(K.transactions);F.value=T,s.value=="all"&&(j.value=T),s.value==a.TRANSFER&&(U.value=T),s.value==a.ACCOUNT&&(z.value=T),s.value==a.AGGREGATE&&(Q.value=T),s.value==a.ALIAS&&(W.value=T),s.value==a.ASSET&&(J.value=T),s.value==a.NAMESPACE&&(q.value=T),s.value==a.METADATA&&(Y.value=T),s.value==a.EXCHANGE&&(Z.value=T),s.value==a.LOCK&&(ee.value=T),s.value==a.LINK&&(ae.value=T),s.value==a.RESTRICTION&&(te.value=T),s.value==a.SECRET&&(se.value=T),s.value==a.CHAIN&&(oe.value=T),s.value==a["SDA EXCHANGE"]&&(ne.value=T),A.value=K.pagination.totalPages}else F.value=[];G.value=!1};w();const xe=()=>{switch(G.value=!0,F.value=[],s.value){case a.TRANSFER:b.value=h.getTransferTypes();break;case a.ACCOUNT:b.value=h.getAccountTypes();break;case a.ASSET:b.value=h.getAssetTypes();break;case a.ALIAS:b.value=h.getAliasTypes();break;case a.NAMESPACE:b.value=h.getNamespaceTypes();break;case a.METADATA:b.value=h.getMetadataTypes();break;case a.CHAIN:b.value=h.getChainTypes();break;case a.EXCHANGE:b.value=h.getExchangeTypes();break;case a.AGGREGATE:b.value=h.getAggregateTypes();break;case a.LINK:b.value=h.getLinkTypes();break;case a.LOCK:b.value=h.getLockTypes();break;case a.SECRET:b.value=h.getSecretTypes();break;case a.RESTRICTION:b.value=h.getRestrictionTypes();break;case a["SDA EXCHANGE"]:b.value=h.getSdaExchangeTypes();break;default:b.value=void 0;break}w()},be=async r=>{let i=[];switch(s.value){case a.TRANSFER:i=await y.formatConfirmedMixedTxns(r);break;case a.ACCOUNT:i=await y.formatConfirmedAccountTransaction(r);break;case a.AGGREGATE:i=await y.formatConfirmedAggregateTransaction(r);break;case a.RESTRICTION:i=await y.formatConfirmedRestrictionTransaction(r);break;case a.SECRET:i=await y.formatConfirmedSecretTransaction(r);break;case a.ALIAS:i=await y.formatConfirmedAliasTransaction(r);break;case a.ASSET:i=await y.formatConfirmedAssetTransaction(r);break;case a.METADATA:i=await y.formatConfirmedMetadataTransaction(r);break;case a.CHAIN:i=await y.formatConfirmedChainTransaction(r);break;case a.EXCHANGE:i=await y.formatConfirmedExchangeTransaction(r);break;case a.LINK:i=await y.formatConfirmedLinkTransaction(r);break;case a.LOCK:i=await y.formatConfirmedLockTransaction(r);break;case a.NAMESPACE:i=await y.formatConfirmedNamespaceTransaction(r);break;case a["SDA EXCHANGE"]:i=await y.formatConfirmedSdaExchangeTransaction(r);break;default:i=await y.formatConfirmedMixedTxns(r);break}return i};return O.on("CHANGE_NETWORK",r=>{G.value=!0,r&&w()}),(r,i)=>(t(),c("div",null,[o("div",xa,[ba,o("div",Ta,[M(Ne,{selectedTxnType:e(s),transactions:F.value,disabled:G.value||F.value.length==0},null,8,["selectedTxnType","transactions","disabled"]),L(o("select",{"onUpdate:modelValue":i[0]||(i[0]=E=>ke(s)?s.value=E:s=E),onChange:xe,class:"border border-gray-200 px-2 py-1 focus:outline-none"},[ya,(t(!0),c(ie,null,ce(e(H),E=>(t(),c("option",{key:E.value,value:E.value,class:"text-sm"},v(E.label),9,ma))),128))],544),[[re,e(s)]])])]),G.value?(t(),c("div",fa,ha)):(t(),c("div",ka,[e(s)=="all"?(t(),l(Ve,{key:0,transactions:j.value,pages:p.value},null,8,["transactions","pages"])):e(s)===e(a).TRANSFER?(t(),l(we,{key:1,transactions:U.value,pages:p.value},null,8,["transactions","pages"])):e(s)===e(a).ACCOUNT?(t(),l(Ge,{key:2,transactions:z.value,pages:p.value},null,8,["transactions","pages"])):e(s)===e(a).AGGREGATE?(t(),l(Se,{key:3,transactions:Q.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).ALIAS?(t(),l(De,{key:4,transactions:W.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).ASSET?(t(),l(Re,{key:5,transactions:J.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).NAMESPACE?(t(),l(Ie,{key:6,transactions:q.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).METADATA?(t(),l(Fe,{key:7,transactions:Y.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).EXCHANGE?(t(),l(Le,{key:8,transactions:Z.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).LOCK?(t(),l(Oe,{key:9,transactions:ee.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).LINK?(t(),l(Pe,{key:10,transactions:ae.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).RESTRICTION?(t(),l(Me,{key:11,transactions:te.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).SECRET?(t(),l(He,{key:12,transactions:se.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a).CHAIN?(t(),l($e,{key:13,transactions:oe.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):e(s)===e(a)["SDA EXCHANGE"]?(t(),l(va,{key:14,transactions:ne.value,pages:p.value,selectedGroupType:e(_).CONFIRMED},null,8,["transactions","pages","selectedGroupType"])):f("v-if",!0),A.value>1&&F.value.length>0?(t(),c("div",_a,[o("div",Ea,[m(" Show "),L(o("select",{"onUpdate:modelValue":i[1]||(i[1]=E=>p.value=E),class:"border border-gray-300 rounded-md p-1",onChange:pe},Aa,544),[[re,p.value]]),m(" Records ")]),o("div",Na,[e(R)?(t(),c("div",{key:0,onClick:n,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," First ")):(t(),c("div",wa," First ")),e(V)?(t(),c("div",{key:2,onClick:u,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Previous ")):(t(),c("div",Ga," Previous ")),o("div",Sa," Page "+v(k.value)+" of "+v(A.value),1),e(N)?(t(),c("div",{key:4,onClick:B,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs mx-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Next ")):(t(),c("div",Da," Next ")),e(I)?(t(),c("div",{key:6,onClick:de,class:"bg-blue-100 inline-block border border-blue-100 rounded-sm px-2 py-1 text-blue-700 text-xs ml-1 cursor-pointer hover:bg-blue-200 duration-300 transition-all"}," Last ")):(t(),c("div",Ra," Last "))])])):f("v-if",!0)]))]))}});const Ha=ue(Ia,[["__scopeId","data-v-5bf67df9"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewTransactionList.vue"]]);export{Ha as default};
