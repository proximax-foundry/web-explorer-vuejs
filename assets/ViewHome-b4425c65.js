var z=Object.defineProperty;var K=(P,s,o)=>s in P?z(P,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):P[s]=o;var V=(P,s,o)=>(K(P,typeof s!="symbol"?s+"":s,o),o);import{A as T,d as H,r as $,o as F,a as R,b as I,c as X,e as r,f as k,g as w,w as l,h as b,u as a,i as e,j as g,t as c,k as A,l as f,T as S,m as E,n as C,_ as N,H as B,p as W}from"./index-ea19aeff.js";import{s as y,a as j}from"./column.esm-251c660f.js";class L{static async getDiagnosticStorage(){if(!T.chainAPI)throw new Error("Service Unavailable");try{return await T.chainAPI.diagnosticAPI.getDiagnosticStorage()}catch{return!1}}static async getBlocksByHeightWithLimit(s){if(!T.chainAPI)throw new Error("Service Unavailable");try{let o=[];const n=await T.chainAPI.blockAPI.getBlocksByHeightWithLimit(s);if(n.length>10)o=n.slice(0,10);else if(n.length<10){const i=await T.chainAPI.blockAPI.getBlocksByHeightWithLimit(s-n.length),u=10-n.length,m=i.slice(0,u);o=n.concat(m)}else o=n;return o}catch{return!1}}}V(L,"countDuration",s=>{let o="";const n=new Date,i=new Date(s),u=Math.floor((n.getTime()-i.getTime())/1e3);if(u<60){const m=" s";o=(u<1?1:u)+m}else{let m="";const p=Math.floor(u/60);if(p>60){let x="";const h=Math.floor(p/60);if(h<24)x=h>1?" hrs":" hr",o=h+x;else{let d="";const _=Math.floor(h/24);d=_>1?" day":" days",o=_+d}}else m=p>1?" mins":" min",o=p+m}return o});const M={class:"border divide-y divide-gray-200"},G=e("div",{class:"font-bold text-base ml-4 mt-4 mb-4"},"Latest Blocks",-1),U={key:0},Q=e("div",{class:"flex justify-center items-center border-gray-400 mt-10 mb-10"},[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary"}),e("span",{class:"text-tsm ml-2"},"Fetching transactions")],-1),Y=[Q],q={key:1},J={class:"mb-2 px-4"},Z=e("div",{class:"uppercase text-xs text-gray-300 font-bold"},"Block",-1),ee={class:"uppercase font-bold text-xs inline-flex mt-2"},te={class:"text-xs text-gray-500 mb-4 mt-1"},se=e("div",{class:"uppercase text-xs text-gray-300 font-bold"}," Validator ",-1),oe={class:"uppercase font-bold text-xs text-blue-primary inline-flex mt-2"},ie={class:"text-ellipsis overflow-hidden w-44"},ae={class:"text-xs text-gray-500 mb-4 mt-1"},ne=e("div",{class:"uppercase text-xs text-gray-300 font-bold -mt-2 ml-1"}," TX FEE ",-1),re={class:"uppercase font-bold text-xs mt-1 ml-1"},le=e("div",{class:"mb-7"},null,-1),ce={class:"uppercase text-xs pt-3"},de={class:"text-xs"},ue={class:"text-txs text-gray-500 mb-4"},me={class:"uppercase text-xs text-blue-primary inline-flex w-72 pt-3"},pe={class:"text-xs text-ellipsis overflow-hidden w-72"},xe={class:"text-txs text-gray-500 mb-4 mt-1"},he={class:"text-xs pt-2.5"},ve=e("div",{class:"mb-7"},null,-1),_e=H({__name:"LatestBlockDataTable",setup(P){const s=C(),o=s==null?void 0:s.appContext.config.globalProperties.emitter,n=T.nativeToken.label,i=$(!1),u=$(!0),m=$([]),p=()=>{window.innerWidth<1024?i.value=!1:i.value=!0};p(),F(()=>{window.addEventListener("resize",p)}),R(()=>{window.removeEventListener("resize",p)});const x=async()=>{if(!T.isReady){setTimeout(x,1e3),u.value=!0;return}let d=await L.getDiagnosticStorage();if(d){let _=await L.getBlocksByHeightWithLimit(d.numBlocks);_&&(m.value=_,u.value=!1)}},h=d=>L.countDuration(d);return x(),o.on("CHANGE_NETWORK",d=>{u.value=!0,d&&x()}),(d,_)=>{const v=I("router-link"),D=X("tooltip");return r(),k("div",M,[G,u.value?(r(),k("div",U,Y)):(r(),k("div",q,[w(a(j),{value:m.value,paginator:!1,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{default:l(()=>[i.value?f("v-if",!0):(r(),b(a(y),{key:0,style:{width:"100px"}},{body:l(({data:t})=>[e("div",J,[Z,e("div",ee,[w(v,{to:{name:"ViewBlock",params:{blockHeight:t.height.compact()}},class:"uppercase text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:l(()=>[g(c(t.height.compact()),1)]),_:2},1032,["to"])]),e("div",te,c(h(t.timestamp.compact()+a(A.Deadline).timestampNemesisBlock*1e3))+" ago ",1)])]),_:1})),i.value?f("v-if",!0):(r(),b(a(y),{key:1,style:{width:"180px"}},{body:l(({data:t})=>[e("div",null,[se,e("div",oe,[w(v,{to:{name:"ViewAccount",params:{accountParam:t.signer.publicKey}},class:"uppercase text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:l(()=>[e("span",ie,c(t.signer.publicKey),1),g("...")]),_:2},1032,["to"])]),e("div",ae,c(t.numTransactions>1?t.numTransactions+" trxs":t.numTransactions+" trx"),1)])]),_:1})),i.value?f("v-if",!0):(r(),b(a(y),{key:2,style:{width:"100px"}},{body:l(({data:t})=>[e("div",null,[ne,e("div",re,c(a(S).convertToExactNativeAmount(t.totalFee.compact())+" "+a(n)),1),le])]),_:1})),i.value?(r(),b(a(y),{key:3,style:{width:"50px","padding-bottom":"0rem","padding-top":"0rem","padding-left":"1rem"},field:"Block",header:"BLOCK"},{body:l(({data:t})=>[e("div",null,[e("div",ce,[w(v,{to:{name:"ViewBlock",params:{blockHeight:t.height.compact()}},class:"truncate inline-block text-xs break-all text-blue-600 hover:text-blue-primary hover:underline"},{default:l(()=>[E((r(),k("span",de,[g(c(t.height.compact()),1)])),[[D,t.hash,void 0,{bottom:!0}]])]),_:2},1032,["to"])]),e("div",ue,c(h(t.timestamp.compact()+a(A.Deadline).timestampNemesisBlock*1e3))+" ago ",1)])]),_:1})):f("v-if",!0),i.value?(r(),b(a(y),{key:4,style:{width:"20px","padding-bottom":"0rem","padding-top":"0rem"},field:"Validator",header:"VALIDATOR"},{body:l(({data:t})=>[e("div",null,[e("div",me,[w(v,{to:{name:"ViewAccount",params:{accountParam:t.signer.publicKey}},class:"uppercase text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:l(()=>[E((r(),k("span",pe,[g(c(t.signer.publicKey),1)])),[[D,t.signer.publicKey,void 0,{bottom:!0}]]),g("...")]),_:2},1032,["to"])]),e("div",xe,c(t.numTransactions>1?t.numTransactions+" trxs":t.numTransactions+" trx"),1)])]),_:1})):f("v-if",!0),i.value?(r(),b(a(y),{key:5,style:{width:"110px","padding-bottom":"0rem","padding-top":"0rem","padding-right":"1rem"},field:"Fee",header:"TX FEE"},{body:l(({data:t})=>[e("div",null,[e("div",he,c(a(S).convertToExactNativeAmount(t.totalFee.compact())+" "+a(n)),1),ve])]),_:1})):f("v-if",!0)]),_:1},8,["value"])]))])}}}),ge=N(_e,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/home/components/LatestBlockDataTable.vue"]]),be={class:"border divide-y divide-gray-200"},fe=e("div",{class:"font-bold text-base ml-4 mt-4 mb-4"},"Latest Transactions",-1),ye={key:0},we=e("div",{class:"flex justify-center items-center border-gray-400 mt-10 mb-10"},[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary"}),e("span",{class:"text-tsm ml-2"},"Fetching transactions")],-1),ke=[we],Te={key:1},Pe={class:"mb-2 px-4"},De=e("div",{class:"uppercase text-xs text-gray-300 font-bold mt-1 mb-2"}," TX HASH ",-1),$e={class:"text-ellipsis overflow-hidden"},Le={class:"text-xs text-gray-500 mb-4 mt-1"},Be={class:"-ml-1"},Ae=e("div",{class:"uppercase text-xs text-gray-300 font-bold -mt-3 mb-2"}," Signer / TX Type ",-1),Se=e("div",{class:"text-xs text-gray-500 inline-flex"},"Signer:",-1),Ee={class:"text-ellipsis overflow-hidden truncate w-36"},He=e("div",{class:"text-xs inline-flex text-gray-500 mt-1"}," TX Type: ",-1),Ce={class:"uppercase truncate break-all text-xs ml-1"},Ne=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," TX FEE ",-1),Ve={class:"uppercase font-bold text-xs"},Fe=e("div",{class:"mb-7"},null,-1),Re={class:"text-ellipsis overflow-hidden text-xs"},Ie={class:"text-txs text-gray-500 mb-4 pt-1"},Xe={class:"text-xs text-gray-500 inline-flex truncate pt-2"},je={class:"uppercase text-xs pl-1.5"},Oe={class:"text-ellipsis overflow-hidden text-xs w-60"},ze={class:"text-txs text-gray-500 inline-flex truncate w-72 px-px mb-3 pt-1.5"},Ke={class:"pl-2"},We={class:"text-xs pt-2.5"},Me=e("div",{class:"mb-7"},null,-1),Ge=H({__name:"LatestTransactionDataTable",setup(P){const s=C(),o=s==null?void 0:s.appContext.config.globalProperties.emitter,n=$(!1),i=$(!0),u=$([]),m=T.nativeToken.label,p=()=>{window.innerWidth<1024?n.value=!1:n.value=!0};p(),F(()=>{window.addEventListener("resize",p)}),R(()=>{window.removeEventListener("resize",p)});const x=d=>L.countDuration(d),h=async()=>{if(!T.isReady){setTimeout(h,1e3),i.value=!0;return}let d=new A.TransactionQueryParams,_=await L.getDiagnosticStorage();if(!_)return;d.pageSize=10;let v=_.numBlocks-2e5;v<=0&&(v=1),d.fromHeight=v;let D=B.createTransactionFieldOrder(B.getTransactionSortField().BLOCK,B.getQueryParamOrder_v2().DESC);d.updateFieldOrder(D);let t=await S.searchTxns(A.TransactionGroupType.CONFIRMED,d);if(t.transactions.length>0){let O=await S.formatConfirmedMixedTxns(t.transactions);u.value=O}i.value=!1};return h(),o.on("CHANGE_NETWORK",d=>{i.value=!0,d&&h()}),(d,_)=>{const v=I("router-link"),D=X("tooltip");return r(),k("div",be,[fe,i.value?(r(),k("div",ye,ke)):(r(),k("div",Te,[w(a(j),{value:u.value,paginator:!0,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:""},{default:l(()=>[n.value?f("v-if",!0):(r(),b(a(y),{key:0,style:{width:"20px"}},{body:l(({data:t})=>[e("div",Pe,[De,w(v,{to:{name:"ViewTransaction",params:{hash:t.hash}},class:"uppercase font-bold text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex w-20"},{default:l(()=>[e("span",$e,c(t.hash),1),g("...")]),_:2},1032,["to"]),e("div",Le,c(x(t.timestamp))+" ago ",1)])]),_:1})),n.value?f("v-if",!0):(r(),b(a(y),{key:1,style:{width:"240px"}},{body:l(({data:t})=>[e("div",Be,[Ae,Se,w(v,{to:{name:"ViewAccount",params:{accountParam:t.signerAddress}},class:"uppercase font-bold text-xs text-blue-600 ml-1 hover:text-blue-primary hover:underline inline-flex"},{default:l(()=>[e("span",Ee,c(a(B).createAddress(t.signerAddress).pretty()),1)]),_:2},1032,["to"]),e("div",null,[He,e("span",Ce,c(t.typeName),1)])])]),_:1})),n.value?f("v-if",!0):(r(),b(a(y),{key:2,style:{width:"130px"}},{body:l(({data:t})=>[e("div",null,[Ne,e("div",Ve,c(t.fee+" "+a(m)),1),Fe])]),_:1})),n.value?(r(),b(a(y),{key:3,style:{width:"80px","padding-bottom":"0rem","padding-top":"0rem","padding-left":"1rem"},field:"TX HASH",header:"TX HASH",class:"ml-4"},{body:l(({data:t})=>[e("div",null,[w(v,{to:{name:"ViewTransaction",params:{hash:t.hash}},class:"uppercase text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex w-14 pt-3"},{default:l(()=>[E((r(),k("span",Re,[g(c(t.hash),1)])),[[D,t.hash,void 0,{bottom:!0}]]),g(" ... ")]),_:2},1032,["to"]),e("div",Ie,c(x(t.timestamp))+" ago ",1)])]),_:1})):f("v-if",!0),n.value?(r(),b(a(y),{key:4,style:{width:"50px","padding-bottom":"0rem","padding-top":"0rem"},field:"Signer / Tx Type",header:"SIGNER / TX TYPE"},{body:l(({data:t})=>[e("div",null,[e("div",Xe,[g(" SIGNER: "),e("div",je,[w(v,{to:{name:"ViewAccount",params:{accountParam:t.signerAddress}},class:"uppercase text-xs text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:l(()=>[E((r(),k("span",Oe,[g(c(a(B).createAddress(t.signerAddress).pretty()),1)])),[[D,a(B).createAddress(t.signerAddress).pretty(),void 0,{top:!0}]]),g(" ... ")]),_:2},1032,["to"])])]),e("div",ze,[g(" TX TYPE: "),e("div",Ke,c(t.typeName),1)])])]),_:1})):f("v-if",!0),n.value?(r(),b(a(y),{key:5,style:{width:"120px","padding-bottom":"0rem","padding-top":"0rem","padding-right":"1rem"},field:"Fee",header:"TX FEE"},{body:l(({data:t})=>[e("div",null,[e("div",We,c(t.fee+" "+a(m)),1)]),Me]),_:1})):f("v-if",!0)]),_:1},8,["value"])]))])}}}),Ue=N(Ge,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/home/components/LatestTransactionDataTable.vue"]]),Qe={class:"xl:grid xl:grid-cols-2 xl:mb-10 md:grid md:grid-cols-2 md:mb-5 sm:mb-5 sm:grid-cols-1 px-4 gap-4"},Ye=e("div",null,[e("div",{class:"text-base font-bold justify-center mb-4"}," The Sirius Explorer "),e("div",{class:"text-justify text-xs sm:mb-4"}," Blockchain information for XPX including historical prices, the most recently mined blocks, the mempool size of unconfirmed transactions, and data for the latest transactions. ")],-1),qe={class:"grid grid-cols-2"},Je=e("div",{class:"text-xs text-gray-400 xl:ml-24 md:ml-24 sm:ml-2 mt-5"}," Latest Block ",-1),Ze={class:"text-base font-bold xl:ml-24 md:ml-24 mb-5 mt-1"},et=e("div",{class:"text-xs text-gray-400 xl:ml-20 md:ml-20 sm:ml-2 mt-5"}," Transactions ",-1),tt={class:"text-base font-bold xl:ml-20 md:ml-20 mb-5 mt-1"},st={class:"xl:grid xl:grid-cols-2 xl:gap-4 md:grid md:grid-rows-1 md:gap-2 sm:grid sm:grid-rows-1"},ot={class:"box-border h-auto w-auto"},it={class:"box-content h-auto w-auto border-collapse"},at=e("br",null,null,-1),nt=H({__name:"ViewHome",setup(P){const s=W(),o=C(),n=o==null?void 0:o.appContext.config.globalProperties.emitter,i=$(!1),u=async()=>{if(!T.isReady){setTimeout(u,1e3);return}i.value=await L.getDiagnosticStorage()},m=()=>{s.push({name:"ViewTransactionList"})},p=x=>{s.push({name:"ViewBlockList",params:{blockHeight:x}})};return n.on("CHANGE_NETWORK",x=>{x&&u()}),u(),(x,h)=>(r(),k("div",null,[e("div",Qe,[Ye,e("div",null,[e("div",qe,[e("div",null,[Je,e("div",Ze,c(i.value==!1?"Fetching...":i.value.numBlocks),1)]),e("div",null,[et,e("div",tt,c(i.value==!1?"Fetching...":i.value.numTransactions),1)])])])]),e("div",st,[e("div",ot,[w(ge),e("button",{class:"content-center w-full h-6 text-xs text-center text-blue-primary rounded-none bg-gray-200",onClick:h[0]||(h[0]=d=>p(i.value?i.value.numBlocks:0))}," View all blocks ")]),e("div",it,[w(Ue),e("button",{class:"content-center w-full h-6 text-xs text-center text-blue-primary rounded-none bg-gray-200",onClick:m}," View all transactions ")]),at])]))}}),dt=N(nt,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/home/views/ViewHome.vue"]]);export{dt as default};
