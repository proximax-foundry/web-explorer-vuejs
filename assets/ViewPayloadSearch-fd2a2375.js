import{e as i,f as u,z as P,i as r,ac as he,d as R,r as d,Z as G,b as Z,t as p,g as N,w as L,j as V,l as k,k as c,A as O,_ as j,h as M,T as le,x as se,y as ne,u as F,F as W,v as J,al as ge,s as _e,C as xe,am as be}from"./index-afde4fe7.js";var me={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const e=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${e.borderTopWidth} + ${e.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const we=["value"];function Te(e,a,t,o,l,v){return i(),u("textarea",{class:P(["p-inputtextarea p-inputtext p-component",{"p-filled":v.filled,"p-inputtextarea-resizable ":t.autoResize}]),value:t.modelValue,onInput:a[0]||(a[0]=(...m)=>v.onInput&&v.onInput(...m))},null,42,we)}function Ie(e,a){a===void 0&&(a={});var t=a.insertAt;if(!(!e||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",t==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var Se=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;Ie(Se);me.render=Te;function ke(e,a){a===void 0&&(a={});var t=a.insertAt;if(!(!e||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",t==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var Ae=`
.p-accordion-header-action {
    cursor: pointer;
    display: flex;
    align-items: center;
    user-select: none;
    position: relative;
    text-decoration: none;
}
.p-accordion-header-action:focus {
    z-index: 1;
}
.p-accordion-header-text {
    line-height: 1;
}
`;ke(Ae);var pe={name:"InputSwitch",emits:["click","update:modelValue","change","input","focus","blur"],props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(e){if(!this.disabled){const a=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",a),this.$emit("change",e),this.$emit("input",a),this.$refs.input.focus()}e.preventDefault()},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)}},computed:{containerClass(){return["p-inputswitch p-component",{"p-inputswitch-checked":this.checked,"p-disabled":this.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const Ve={class:"p-hidden-accessible"},De=["id","checked","disabled","aria-checked","aria-labelledby","aria-label"],$e=r("span",{class:"p-inputswitch-slider"},null,-1);function Ce(e,a,t,o,l,v){return i(),u("div",{class:P(v.containerClass),onClick:a[2]||(a[2]=m=>v.onClick(m))},[r("div",Ve,[r("input",he({ref:"input",id:t.inputId,type:"checkbox",role:"switch",class:t.inputClass,style:t.inputStyle,checked:v.checked,disabled:t.disabled,"aria-checked":v.checked,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:a[0]||(a[0]=m=>v.onFocus(m)),onBlur:a[1]||(a[1]=m=>v.onBlur(m))},t.inputProps),null,16,De)]),$e],2)}function Pe(e,a){a===void 0&&(a={});var t=a.insertAt;if(!(!e||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",t==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var He=`
.p-inputswitch {
    position: relative;
    display: inline-block;
}
.p-inputswitch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 1px solid transparent;
}
.p-inputswitch-slider:before {
    position: absolute;
    content: '';
    top: 50%;
}
`;Pe(He);pe.render=Ce;const Me={key:0,class:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-navy-primary mr-2"},Ne={key:1,class:"text-sm text-red-300 px-2"},Re=R({__name:"NamespaceHandler",props:{label:String,value:String,styleClass:String,toggleResolve:Boolean},setup(e){const a=e,t=d(""),o=d(""),l=d(!1),v=d(!1),m=d(""),_=d(""),w=()=>{t.value=a.value||"",f(),m.value=a.value||""},f=()=>{m.value==a.value?v.value=!0:v.value=!1};w();const T=async()=>{if(v.value){t.value=_.value;return}if(t.value!==""){l.value=!0,o.value="";try{let A=c.UInt64.fromHex(t.value),x=new c.NamespaceId([A.lower,A.higher]),D=await O.chainAPI.namespaceAPI.getNamespacesName([x]);_.value=D[0].name,t.value=_.value}catch{o.value="unable to resolve"}}l.value=!1};return a.toggleResolve&&T(),G(()=>a.toggleResolve,A=>{A?T():w()}),(A,x)=>{const D=Z("router-link");return i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[N(D,{to:{name:"ViewNamespace",params:{namespaceParam:t.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(t.value),1)]),_:1},8,["to"]),l.value?(i(),u("div",Me)):k("v-if",!0),o.value?(i(),u("span",Ne,p(o.value),1)):k("v-if",!0)])])],2)}}});const je=j(Re,[["__scopeId","data-v-b2c0ea57"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/NamespaceHandler.vue"]]),Be={key:2},Ee={key:3},Fe={key:4,class:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-navy-primary mr-2"},Oe={key:5,class:"text-sm text-red-300 px-2"},ze=R({__name:"SdaHandler",props:{label:String,value:{type:String,required:!0},styleClass:String,toggleResolve:Boolean,secondaryValue:{type:String,required:!0}},setup(e){const a=e,t=d(""),o=d(""),l=d(""),v=d(!1),m=d(!1),_=()=>{t.value=a.secondaryValue+" "+a.value,l.value="",le.isNamespaceWithString(a.value)?m.value=!0:m.value=!1};_();const w=async()=>{if(t.value!==""){v.value=!0,o.value="";try{let f=new c.MosaicId(a.value),T=f;if(m.value){let H=await O.chainAPI.namespaceAPI.getLinkedMosaicId(new c.NamespaceId(f.toDTO().id));if(!H)throw new Error("Linked SDA not found");T=H}let x=(await O.chainAPI.assetAPI.getMosaic(T)).divisibility,D=Math.pow(10,x),Y=BigInt(a.secondaryValue)/BigInt(D),q=a.secondaryValue.slice(-x),B=parseInt(q),U=B?B/D:0,z=B?U.toString().split(".")[1].toString():"";if(t.value=Y.toString()+(B?"."+z:""),t.value=t.value+" "+a.value,m.value){let H=await O.chainAPI.namespaceAPI.getNamespacesName([new c.NamespaceId(f.toDTO().id)]);if(H[0]&&H[0].name)l.value=H[0].name;else throw new Error("Namespace name not found")}else{let H=await O.chainAPI.assetAPI.getMosaicsNames([f]);H[0]&&H[0].names[0]?l.value=H[0].names[0].name:l.value=""}}catch{o.value="unable to resolve"}}v.value=!1};return a.toggleResolve&&w(),G(()=>a.toggleResolve,f=>{f?w():_()}),(f,T)=>{const A=Z("router-link");return i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[m.value?(i(),M(A,{key:1,to:{name:"ViewNamespace",params:{namespaceParam:e.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(t.value),1)]),_:1},8,["to"])):(i(),M(A,{key:0,to:{name:"ViewAsset",params:{id:e.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(t.value),1)]),_:1},8,["to"])),l.value&&!m.value?(i(),u("div",Be,[V(" (alias of "),N(A,{to:{name:"ViewNamespace",params:{namespaceParam:l.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(l.value),1)]),_:1},8,["to"]),V(" ) ")])):k("v-if",!0),l.value&&m.value?(i(),u("div",Ee,[V(" ( "),N(A,{to:{name:"ViewNamespace",params:{namespaceParam:l.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(l.value),1)]),_:1},8,["to"]),V(" ) ")])):k("v-if",!0),v.value?(i(),u("div",Fe)):k("v-if",!0),o.value?(i(),u("span",Oe,p(o.value),1)):k("v-if",!0)])])],2)}}});const qe=j(ze,[["__scopeId","data-v-b929adf7"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/SdaHandler.vue"]]),Le=e=>(se("data-v-4444b8e8"),e=e(),ne(),e),Ue={key:0,class:"overflow-hidden"},We={key:1,class:"overflow-hidden"},Ge=Le(()=>r("span",{class:"text-sm text-red-300"},"Invalid address",-1)),Ye=R({__name:"AddressHandler",props:{label:String,value:String,styleClass:String},setup(e){const a=e,t=d(!1),o=l=>{try{c.Address.createFromRawAddress(l).networkType===O.networkType?t.value=!0:t.value=!1}catch{t.value=!1}};return o(a.value||""),G(()=>a.value,l=>{o(l||"")}),(l,v)=>{const m=Z("router-link");return i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),t.value?(i(),u("div",Ue,[N(m,{to:{name:"ViewAccount",params:{accountParam:e.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(e.value),1)]),_:1},8,["to"])])):(i(),u("div",We,[V(p(e.value)+" ",1),Ge]))])],2)}}});const Ke=j(Ye,[["__scopeId","data-v-4444b8e8"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/AddressHandler.vue"]]),Je={key:0},Qe={key:1,class:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-navy-primary mr-2"},Ze={key:2,class:"text-sm text-red-300"},Xe=R({__name:"SdaIdHandler",props:{label:String,value:String,styleClass:String,toggleResolve:Boolean},setup(e){const a=e,t=d(""),o=d(""),l=d(""),v=d(!1),m=()=>{t.value=a.value||"",l.value=""};m();const _=async()=>{if(t.value!==""){v.value=!0,o.value="";try{let w=new c.MosaicId(t.value),f=await O.chainAPI.assetAPI.getMosaicsNames([w]);f.length?l.value=f[0].names[0].name:l.value=""}catch{o.value="unable to resolve"}}v.value=!1};return a.toggleResolve&&_(),G(()=>a.toggleResolve,w=>{w?_():m()}),(w,f)=>{const T=Z("router-link");return i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[N(T,{to:{name:"ViewAsset",params:{id:t.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(t.value),1)]),_:1},8,["to"]),l.value?(i(),u("span",Je,[V(" (alias of "),N(T,{to:{name:"ViewNamespace",params:{namespaceParam:l.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(l.value),1)]),_:1},8,["to"]),V(" ) ")])):k("v-if",!0),v.value?(i(),u("div",Qe)):k("v-if",!0),o.value?(i(),u("span",Ze)):k("v-if",!0)])])],2)}}});const ea=j(Xe,[["__scopeId","data-v-e7cdd458"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/SdaIdHandler.vue"]]),aa={key:0,class:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-navy-primary mr-2"},ta={key:1,class:"text-sm text-red-300 px-2"},la=R({__name:"SdaAmountHandler",props:{label:String,value:String,styleClass:String,toggleResolve:Boolean,secondaryValue:{type:String,required:!0}},setup(e){const a=e,t=d(""),o=d(""),l=d(!1),v=d(!1),m=d(""),_=d(0),w=()=>{t.value=a.value||"",f(),m.value=a.value||""},f=()=>{m.value==a.value?v.value=!0:v.value=!1};w();const T=async()=>{if(v.value){t.value=A(m.value,_.value);return}if(t.value!=="0"){l.value=!0,o.value="";try{let x=new c.MosaicId(a.secondaryValue),D=await O.chainAPI.assetAPI.getMosaic(x);_.value=D.divisibility,t.value=A(t.value,_.value)}catch{o.value="unable to resolve"}}l.value=!1},A=(x,D)=>{let Y=D,q=Math.pow(10,D),B=BigInt(x)/BigInt(q),U=x.slice(-Y),z=parseInt(U),H=z?z/q:0,ue=z?H.toString().split(".")[1].toString():"";return B.toString()+(z?"."+ue:"")};return a.toggleResolve&&T(),G(()=>a.toggleResolve,x=>{x?T():w()}),(x,D)=>(i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[V(p(t.value)+" ",1),l.value?(i(),u("div",aa)):k("v-if",!0),o.value?(i(),u("span",ta,p(o.value),1)):k("v-if",!0)])])],2))}});const sa=j(la,[["__scopeId","data-v-d7f20aa2"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/SdaAmountHandler.vue"]]),na=R({__name:"PublicKeyHandler",props:{label:String,value:String,styleClass:String},setup(e){return(a,t)=>{const o=Z("router-link");return i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[N(o,{to:{name:"ViewAccount",params:{accountParam:e.value}},class:"hover:text-blue-primary hover:underline text-blue-600"},{default:L(()=>[V(p(e.value),1)]),_:1},8,["to"])])])],2)}}});const ra=j(na,[["__scopeId","data-v-fb5e08f3"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/PublicKeyHandler.vue"]]),re=e=>(se("data-v-f7c90be1"),e=e(),ne(),e),ia={key:0,class:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-navy-primary mr-2"},oa={key:1,class:"text-sm text-red-300 px-2"},ua=re(()=>r("div",{class:"flex-none"},"Current metadata raw value",-1)),ca={class:"grow"},da=re(()=>r("div",{class:"flex-none"},"Current metadata value",-1)),va={class:"grow"},ya=re(()=>r("div",{class:"flex-none"},"New metadata raw value",-1)),ma={class:"grow"},pa=re(()=>r("div",{class:"flex-none"},"New metadata value",-1)),fa={class:"grow"},ha=R({__name:"MetadataHandler",props:{label:String,value:String,styleClass:String,toggleResolve:Boolean,secondaryValue:{type:String,required:!0}},setup(e){const a=e,t=d(""),o=d(""),l=d(!1),v=d(!1),m=d(""),_=d(""),w=d(""),f=d(""),T=()=>{t.value=a.value||"",m.value="",_.value="",w.value="",f.value="",l.value=!1};T();const A=async()=>{if(t.value!==""){v.value=!0,o.value="";try{let x=new c.MetadataQueryParams,[D,Y]=a.secondaryValue.split(","),q=D.length;x.scopedMetadataKey=Y,q===64?(x.metadataType=c.MetadataType.ACCOUNT,x.targetKey=D):(x.targetId=D,le.isNamespaceWithString(D)?x.metadataType=c.MetadataType.NAMESPACE:x.metadataType=c.MetadataType.MOSAIC);let B=await O.chainAPI.metadataAPI.searchMetadatas(x);if(B.metadataEntries.length){let U=B.metadataEntries[0];m.value=U.value,_.value=c.Convert.utf8ToHex(U.value),f.value=le.applyHexValueChange(_.value,t.value,(t.value.length-_.value.length)/2),f.value&&(w.value=new TextDecoder().decode(c.Convert.hexToUint8(f.value)))}else m.value="-",_.value="-",w.value=new TextDecoder().decode(c.Convert.hexToUint8(t.value)),f.value=t.value;l.value=!0}catch(x){console.log(x),o.value="unable to resolve"}}v.value=!1};return a.toggleResolve&&A(),G(()=>a.toggleResolve,x=>{x?A():T()}),(x,D)=>(i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[v.value?(i(),u("div",ia)):k("v-if",!0),o.value?(i(),u("div",oa,p(o.value),1)):k("v-if",!0),V(" "+p(t.value)+" ",1),l.value?(i(),u("div",{key:2,class:P(e.styleClass)},[r("div",null,[ua,r("div",ca,p(_.value),1)])],2)):k("v-if",!0),l.value?(i(),u("div",{key:3,class:P(e.styleClass)},[r("div",null,[da,r("div",va,p(m.value),1)])],2)):k("v-if",!0),l.value?(i(),u("div",{key:4,class:P(e.styleClass)},[r("div",null,[ya,r("div",ma,p(f.value),1)])],2)):k("v-if",!0),l.value?(i(),u("div",{key:5,class:P(e.styleClass)},[r("div",null,[pa,r("div",fa,p(w.value),1)])],2)):k("v-if",!0)])])],2))}});const ga=j(ha,[["__scopeId","data-v-f7c90be1"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/MetadataHandler.vue"]]),_a={key:0,class:"text-sm text-red-300"},xa=R({__name:"FeeHandler",props:{label:String,value:String,styleClass:String,toggleResolve:Boolean},setup(e){const a=e,t=d(""),o=d(""),l=()=>{t.value=a.value||"0"};l();const v=()=>{if(t.value!=="0"){let m=O.nativeToken.divisibility,_=Math.pow(10,m),w=BigInt(t.value)/BigInt(_),f=t.value.slice(-m),T=parseInt(f),A=T?T/_:0,x=T?A.toString().split(".")[1].toString():"";t.value=w.toString()+(T?"."+x:"")}t.value=t.value+" "+O.nativeToken.label};return a.toggleResolve&&v(),G(()=>a.toggleResolve,m=>{m?v():l()}),(m,_)=>(i(),u("div",{class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.label),1),r("div",null,[V(p(t.value)+" ",1),o.value?(i(),u("span",_a,p(o.value),1)):k("v-if",!0)])])],2))}});const ba=j(xa,[["__scopeId","data-v-1e4d45c6"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/FeeHandler.vue"]]);var S=(e=>(e.fee="fee",e.asset="asset",e.assets="assets",e.assetAmount="assetAmount",e.assetID="assetID",e.publicKey="publicKey",e.address="address",e.namespace="namespace",e.metadata="metadata",e.transactionHash="transactionHash",e))(S||{});const wa=R({__name:"HandlerControl",props:{label:String,value:String,secondaryValue:String,styleClass:String,handlerType:String,toggleResolve:Boolean},setup(e){return(a,t)=>e.handlerType===F(S).fee?(i(),M(ba,{key:0,label:e.label,value:e.value,"style-class":e.styleClass,"toggle-resolve":e.toggleResolve},null,8,["label","value","style-class","toggle-resolve"])):e.handlerType===F(S).address?(i(),M(Ke,{key:1,label:e.label,value:e.value,"style-class":e.styleClass},null,8,["label","value","style-class"])):e.handlerType===F(S).publicKey?(i(),M(ra,{key:2,label:e.label,value:e.value,"style-class":e.styleClass},null,8,["label","value","style-class"])):e.handlerType===F(S).namespace?(i(),M(je,{key:3,label:e.label,value:e.value,"style-class":e.styleClass,"toggle-resolve":e.toggleResolve},null,8,["label","value","style-class","toggle-resolve"])):e.handlerType===F(S).assetID?(i(),M(ea,{key:4,label:e.label,value:e.value,"style-class":e.styleClass,"toggle-resolve":e.toggleResolve},null,8,["label","value","style-class","toggle-resolve"])):e.handlerType===F(S).assetAmount?(i(),M(sa,{key:5,label:e.label,value:e.value,"secondary-value":e.secondaryValue||"","style-class":e.styleClass,"toggle-resolve":e.toggleResolve},null,8,["label","value","secondary-value","style-class","toggle-resolve"])):e.handlerType===F(S).asset?(i(),M(qe,{key:6,label:e.label,value:e.value||"","secondary-value":e.secondaryValue||"","style-class":e.styleClass,"toggle-resolve":e.toggleResolve},null,8,["label","value","secondary-value","style-class","toggle-resolve"])):e.handlerType===F(S).metadata?(i(),M(ga,{key:7,label:e.label,value:e.value,"secondary-value":e.secondaryValue||"","style-class":e.styleClass,"toggle-resolve":e.toggleResolve},null,8,["label","value","secondary-value","style-class","toggle-resolve"])):k("v-if",!0)}}),de=j(wa,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/HandlerControl.vue"]]),Ta={class:"data-details"},Ia={key:0,class:"text-xxs text-gray-500"},Sa=R({__name:"DisplaySimpleValue",props:{name:{type:String,required:!0},value:{type:String,required:!0},secondaryValue:{type:String,required:!0},handlerType:{type:String,required:!0},styleClass:{type:String,required:!0},toggleResolve:{type:Boolean,required:!0}},setup(e){return(a,t)=>e.handlerType&&typeof e.value=="string"?(i(),M(de,{key:0,label:e.name,"style-class":e.styleClass,value:e.value,"secondary-value":e.secondaryValue,"toggle-resolve":e.toggleResolve,"handler-type":e.handlerType},null,8,["label","style-class","value","secondary-value","toggle-resolve","handler-type"])):(i(),u("div",{key:1,class:P(e.styleClass)},[r("div",Ta,[r("div",null,p(e.name),1),r("div",null,[V(p(e.value)+" ",1),e.secondaryValue?(i(),u("span",Ia," ("+p(e.secondaryValue)+") ",1)):k("v-if",!0)])])],2))}});const ka=j(Sa,[["__scopeId","data-v-c572cdc3"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/DisplaySimpleValue.vue"]]),Aa=R({__name:"DisplayValue",props:{value:{type:null,required:!0},styleClass:{type:String,required:!0},toggleResolve:{type:Boolean,required:!0}},setup(e){return(a,t)=>{const o=Z("DisplayValue",!0);return e.value.value&&Array.isArray(e.value.value)?(i(),u("div",{key:0,class:P(e.styleClass)},[r("div",null,[r("div",null,p(e.value.name),1),r("div",null,[(i(!0),u(W,null,J(e.value.value,l=>(i(),u("div",null,[N(o,{"style-class":e.styleClass,"toggle-resolve":e.toggleResolve,value:l},null,8,["style-class","toggle-resolve","value"])]))),256))])])],2)):Array.isArray(e.value)?(i(!0),u(W,{key:1},J(e.value,l=>(i(),M(o,{"style-class":e.styleClass,"toggle-resolve":e.toggleResolve,value:l},null,8,["style-class","toggle-resolve","value"]))),256)):(i(),M(ka,{key:2,"handler-type":e.value.handlerType??"","toggle-resolve":e.toggleResolve,"style-class":e.styleClass,name:e.value.name,"secondary-value":e.value.secondaryValue??"",value:e.value.value??""},null,8,["handler-type","toggle-resolve","style-class","name","secondary-value","value"]))}}});const ye=j(Aa,[["__scopeId","data-v-eacce7c7"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/components/payloadDetails/DisplayValue.vue"]]),ie=e=>(se("data-v-a8066334"),e=e(),ne(),e),Va=ie(()=>r("p",{class:"text-gray-500 mb-5 text-sm font-bold"}," Common Transaction Details ",-1)),Da={class:"filter shadow-xl border border-gray-50 p-5 mb-15"},$a={key:0},Ca={class:"txn-div"},Pa={class:"flex-none"},Ha={class:"grow"},Ma={class:"txn-div"},Na={class:"flex-none"},Ra={class:"grow"},ja={key:0,class:"text-xxs text-gray-500"},Ba={key:1,class:"txn-div"},Ea={class:"flex-none"},Fa={class:"grow"},Oa={key:0,class:"text-xxs text-gray-500"},za={key:0},qa={class:"txn-div"},La=ie(()=>r("div",null,"Signature",-1)),Ua={class:"overflow-hidden"},Wa={key:1},Ga={class:"flex"},Ya=ie(()=>r("p",{class:"text-gray-500 mb-5 text-sm font-bold w-1/2"}," Transaction Details ",-1)),Ka={class:"w-1/2"},Ja=ie(()=>r("div",{class:"flex justify-end text-xs py-2"},"Resolve data in this network",-1)),Qa={class:"flex justify-end"},Za={class:"filter shadow-xl border border-gray-50 p-5 mb-15"},Xa={class:"mt-3 border border-gray-200 p-3"},et=R({__name:"ViewPayload",props:{payload:{type:String,required:!0}},setup(e){const a=e,t=d([]),o=d([]),l=d([]);d();const v=d(!1),m=d(),_=d(!1),w=d(""),f=d(""),T=d(0),{payload:A}=ge(a);let x=s=>{let g=[];for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)){const y=s[n];g.push({key:n,value:y})}for(const n of g)s["innerTransactions."+n.key]=n.value},D=["Type","Deadline","MaxFee","Version"],Y=["transactionName","version.signatureDScheme","innerTransactions.transactionName","innerTransactions.version.signatureDScheme","innerTransactions.deadline","innerTransactions.maxFee","mosaicProperties.flags","innerTransactions.mosaicProperties.flags"],q={"version.networkType":{value:s=>c.NetworkType[s],secondaryValue:s=>s.toString()},"version.txnTypeVersion":{value:s=>s.toString()},"message.type":{value:s=>c.MessageType[s]},"offers.type":{value:s=>c.ExchangeOfferType[s]},"offers.offerType":{value:s=>c.ExchangeOfferType[s]},"offers.mosaicId":{name:"SDA ID",handlerType:S.assetID},"offers.cost":{handlerType:S.fee},actionType:{value:s=>c.AliasActionType[s]},linkAction:{value:s=>c.LinkAction[s]},namespaceType:{value:s=>c.NamespaceType[s]},hashType:{value:s=>c.HashType[s]},mosaics:{name:"SDAs"},mosaicId:{name:"SDA ID",handlerType:S.assetID},"modifications.type":{value:s=>c.MultisigCosignatoryModificationType[s]},restrictionType:{value:s=>c.RestrictionType[s]},direction:{value:s=>c.MosaicSupplyType[s]},signatureDScheme:{value:s=>c.DerivationScheme[s]},"cosignatures.signatureDScheme":{value:s=>c.DerivationScheme[s]},"mosaicLevy.type":{value:s=>c.MosaicLevyType[s]}};x(q);let B=(s,g)=>{let n=s.constructor.name,y="",I="";if(n===c.UInt64.name)return y=BigInt("0x"+s.toHex()).toString(),{name:g,value:y};if(n===c.Id.name)return y=s.toHex(),{name:g,value:y};if(n===c.Deadline.name){let b=s;return y=new Date(b.value.toJSON()).toJSON(),{name:g,value:y}}else{if(n===c.PublicAccount.name)return y=s.publicKey,I=S.publicKey,{name:g,value:y,handlerType:I};if(n===c.Address.name)return y=s.pretty(),I=S.address,{name:g,value:y,handlerType:S.address};if(n===c.NamespaceId.name){let b=s;return m.value=b,y=b.toHex(),I=S.namespace,{name:g,value:y,handlerType:I}}else{if(n===c.MosaicId.name)return y=s.toHex(),I=S.assetID,le.isNamespaceWithString(y)&&(I=S.namespace),{name:g,value:y,handlerType:I};if(n===Uint8Array.name){let b=s;return y="0x"+c.Convert.uint8ArrayToHex(b),{name:g,value:y}}else if(n===c.Mosaic.name){let b=s;return y=b.id.toHex(),{name:"SDA",value:y,secondaryValue:BigInt("0x"+b.amount.toHex()).toString(),handlerType:S.asset}}else if(n===c.MosaicNonce.name)return{name:g,value:s.toNumber().toString()}}}return null},U=(s,g,n,y)=>{let I="",b="";if(n==="type"||n==="innerTransactions.type")return b=s.toString(),I=y.transactionName,{name:g,value:I,secondaryValue:b};if(n==="maxFee")return I=BigInt("0x"+s.toHex()).toString(),{name:g,value:I,handlerType:"fee"};if(n==="scopedMetadataKey"||n==="innerTransactions.scopedMetadataKey")return I="0x"+s.toHex(),{name:g,value:I};if(n==="offers.mosaicAmount"||n==="innerTransactions.offers.mosaicAmount"){let h=y.mosaicId;return{name:g,value:s.toBigInt().toString(),secondaryValue:h.toHex(),handlerType:S.assetAmount}}else if(n==="offers.mosaicAmountGive"||n==="innerTransactions.offers.mosaicAmountGive"){let h=y.mosaicIdGive;return{name:g,value:s.toBigInt().toString(),secondaryValue:h.toHex(),handlerType:S.assetAmount}}else if(n==="offers.mosaicAmountGet"||n==="innerTransactions.offers.mosaicAmountGet"){let h=y.mosaicIdGet;return{name:g,value:s.toBigInt().toString(),secondaryValue:h.toHex(),handlerType:S.assetAmount}}else if(n==="valueDifferences"||n==="innerTransactions.valueDifferences"){let h="";y.targetMosaicId?h=y.targetMosaicId.toHex():y.targetNamespaceId?h=y.targetNamespaceId.toHex():h=y.targetPublicKey.publicKey;let C=s,K=y.scopedMetadataKey;return{name:g,value:c.Convert.uint8ArrayToHex(C),secondaryValue:h+","+K.toHex(),handlerType:S.metadata}}else if(n==="mosaicProperties.duration"||n==="innerTransactions.mosaicProperties.duration"){let h=s;return!h||h.toBigInt()===BigInt(0)?null:{name:g,value:`${h.toBigInt().toString()} blocks`}}else if(n==="mosaicLevy.fee"||n==="innerTransactions.mosaicLevy.fee"){let h=s,C=y,K="",$=h.toBigInt().toString();if(C.type===c.MosaicLevyType.LevyAbsoluteFee)K=S.assetAmount,I=$;else if(C.type===c.MosaicLevyType.LevyPercentileFee){let Q=c.MosaicLevy.DefaultMosaicLevyEffectiveValue,ce=BigInt($)/BigInt(Q),ee=$.slice(-5),E=parseInt(ee),ae=E?E/Q:0,te=E?ae.toString().split(".")[1].toString():"";I=ce.toString()+(E?"."+te:"")+" %"}return{name:g,value:I,secondaryValue:C.mosaicId.toHex(),handlerType:K}}return null},z=(s,g="",n)=>{let y=[];for(const I in s)if(Object.prototype.hasOwnProperty.call(s,I)){const b=s[I],h=g?g+"."+I:I;if(Y.includes(h))continue;let C=I.charAt(0).toUpperCase()+I.slice(1);if(n[h]&&n[h].name&&(C=n[h].name),b!==void 0){let K=U(b,C,h,s);if(K){y.push(K);continue}b.constructor.name;let X=typeof b;if(Array.isArray(b)){if(b.length===0)continue;let $=[];for(let ee of b){let E=[],ae=B(ee,C);if(ae){E=E.concat(ae),$.push(E);continue}let te=z(ee,h,n);if(te){E=E.concat(te),$.push(E);continue}}let Q=n[h]&&n[h].handlerType?n[h].handlerType:"",ce={name:C,value:$,handlerType:Q};y.push(ce);continue}else if(X==="object"){let $=B(b,C);if($){y.push($);continue}let Q=z(b,h,n);$={name:C,value:Q},y.push($)}else{let $={name:C,value:b};n[h]&&n[h].secondaryValue&&typeof n[h].secondaryValue=="function"&&($.secondaryValue=n[h].secondaryValue($.value)),n[h]&&typeof n[h].value=="function"&&($.value=n[h].value($.value)),y.push($)}}}return y};const H=s=>(T.value=0,s.find(n=>n.name==="InnerTransactions")?s.find(n=>n.name==="InnerTransactions").value:[]),ue=s=>s.filter(g=>!D.includes(g.name)&&g.name!=="InnerTransactions"),fe=s=>s.filter(g=>D.includes(g.name)),ve=s=>{if(s){let g=c.TransactionMapping.createFromPayload(s);w.value=s.substring(8,136),f.value=s.substring(136,200),w.value!=="0".repeat(128)&&f.value!=="0".repeat(64)?_.value=!0:_.value=!1;let n=z(g,"",q);l.value=fe(n),t.value=H(n),o.value=ue(n)}};return ve(A.value),G(()=>A.value,s=>{ve(s)}),(s,g)=>(i(),u("div",null,[Va,r("div",Da,[(i(!0),u(W,null,J(l.value,n=>(i(),u("div",null,[Array.isArray(n.value)?(i(),u("div",$a,[r("div",Ca,[r("div",null,[r("div",Pa,p(n.name),1),r("div",Ha,[(i(!0),u(W,null,J(n.value,y=>(i(),u("div",Ma,[r("div",null,[r("div",Na,p(y.name),1),r("div",Ra,[V(p(y.value)+" ",1),y.secondaryValue?(i(),u("span",ja," ("+p(y.secondaryValue)+") ",1)):k("v-if",!0)])])]))),256))])])])])):(i(),u(W,{key:1},[n.handlerType?(i(),M(de,{key:0,label:n.name,"style-class":"txn-div","secondary-value":n.secondaryValue,value:n.value,"handler-type":n.handlerType,"toggle-resolve":v.value},null,8,["label","secondary-value","value","handler-type","toggle-resolve"])):(i(),u("div",Ba,[r("div",null,[r("div",Ea,p(n.name),1),r("div",Fa,[V(p(n.value)+" ",1),n.secondaryValue?(i(),u("span",Oa," ("+p(n.secondaryValue)+") ",1)):k("v-if",!0)])])]))],64))]))),256)),_.value?(i(),u("div",za,[r("div",qa,[r("div",null,[La,r("div",Ua,p(w.value),1)])])])):k("v-if",!0),_.value?(i(),u("div",Wa,[N(de,{label:"Signer","style-class":"txn-div",value:f.value,"handler-type":F(S).publicKey},null,8,["value","handler-type"])])):k("v-if",!0)]),r("div",Ga,[Ya,r("div",Ka,[Ja,r("div",Qa,[N(F(pe),{modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=n=>v.value=n)},null,8,["modelValue"])])])]),r("div",null,[r("div",Za,[(i(!0),u(W,null,J(t.value,(n,y)=>(i(),u("div",Xa,[r("div",null,"Transaction "+p(y+1),1),(i(!0),u(W,null,J(n,I=>(i(),u("div",null,[N(ye,{"style-class":"table_div","toggle-resolve":v.value,value:I},null,8,["toggle-resolve","value"])]))),256))]))),256)),(i(!0),u(W,null,J(o.value,n=>(i(),u("div",null,[N(ye,{"style-class":"txn-div","toggle-resolve":v.value,value:n},null,8,["toggle-resolve","value"])]))),256))])])]))}});const at=j(et,[["__scopeId","data-v-a8066334"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewPayload.vue"]]),oe=e=>(se("data-v-3a7659a0"),e=e(),ne(),e),tt={class:"flex justify-center"},lt={class:"flex border rounded-lg border-gray-900"},st={key:0,class:"flex justify-center items-center w-10"},nt=oe(()=>r("div",{class:"flex justify-center items-center border-gray-400"},[r("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"})],-1)),rt=[nt],it=oe(()=>r("img",{src:be,class:"w-4 inline-block search"},null,-1)),ot=[it],ut={key:0},ct={key:1},dt={key:0},vt={key:1},yt=oe(()=>r("div",{class:"pb-14 pt-2"},[r("div",{class:"p-3 bg-yellow-100 text-yellow-700"}," Unable to decode transaction payload. Make sure it is a correct payload. ")],-1)),mt=[yt],pt={key:2},ft=oe(()=>r("div",{class:"pb-14 pt-2"},[r("div",{class:"p-3 bg-yellow-100 text-yellow-700"}," Deprecated transaction type found. ")],-1)),ht=[ft],gt=R({__name:"ViewPayloadSearch",setup(e){const a=d(""),t=d(!1),o=d(!0),l=d(!1);d(!0),d("");const v=d("");_e(()=>xe.chainNetworkName);const m=[c.TransactionType.MODIFY_ACCOUNT_METADATA,c.TransactionType.MODIFY_MOSAIC_METADATA,c.TransactionType.MODIFY_NAMESPACE_METADATA],_=async()=>{if(l.value=!1,a.value.length==0)t.value=!1,o.value=!1;else{if(t.value=!0,a.value=a.value.trim(),!c.Convert.isHexString(a.value)||a.value.length<=122*2){o.value=!1,t.value=!1;return}let w=parseInt(c.Convert.hexReverse(a.value.substring(0,8)),16);if(a.value.length!==w*2){o.value=!1,t.value=!1;return}try{let f=c.TransactionMapping.createFromPayload(a.value);if(m.includes(f.type))l.value=!0;else if(f instanceof c.AggregateTransaction){for(const T of f.innerTransactions)if(T instanceof c.UnknownTransaction){o.value=!1;break}else if(m.includes(T.type)){l.value=!0;break}o.value=!0,v.value=a.value}else f instanceof c.UnknownTransaction?o.value=!1:(o.value=!0,v.value=a.value)}catch{o.value=!1}t.value=!1}};return(w,f)=>(i(),u("div",null,[r("div",tt,[r("div",lt,[N(F(me),{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=T=>a.value=T),placeholder:"Transaction payload to decode",class:"rounded-lg bg-transparent p-1",autoResize:"",rows:"6",cols:"80"},null,8,["modelValue"]),t.value?(i(),u("div",st,rt)):(i(),u("div",{key:1,class:"hover:bg-blue-100 cursor-pointer flex justify-center items-center rounded-r-lg w-10",onClick:_},ot))])]),v.value.length==0?(i(),u("div",ut)):(i(),u("div",ct,[o.value&&!l.value?(i(),u("div",dt,[N(at,{payload:v.value,class:"mt-3"},null,8,["payload"])])):o.value?l.value?(i(),u("div",pt,ht)):k("v-if",!0):(i(),u("div",vt,mt))]))]))}});const xt=j(gt,[["__scopeId","data-v-3a7659a0"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/transaction/views/ViewPayloadSearch.vue"]]);export{xt as default};
