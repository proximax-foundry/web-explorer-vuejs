import{d as R,r as k,o as I,a as H,b as S,c as z,e as t,f as o,g as y,w as r,h as b,i as e,m as B,j as m,t as a,u,l,H as N,_ as D,s as j,C as F,F as q,v as G,z as V,D as O,n as W,A as Y,E,k as J,N as Q,x as X,y as Z}from"./index-d495254d.js";import{s as x,a as K}from"./column.esm-c5fab439.js";import{M as ee}from"./metadataUtil-2052b6b6.js";import"./index.esm-016e1d5d.js";const te={key:0,class:"ml-10 text-tsm"},se={key:1},oe={class:"mb-2"},ae=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," ADDRESS ",-1),ie={class:"text-ellipsis overflow-hidden"},le={class:"grid grid-cols-2"},re={class:"grid-cols-1"},ne=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," BALANCE ",-1),de={class:"uppercase font-bold text-xs mb-4"},ce={class:"grid-cols-1"},ue=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," PERCENTAGE ",-1),pe={class:"uppercase font-bold text-xs mb-2"},ve={class:"uppercase text-xs"},_e={class:"uppercase font-bold text-xs"},me=R({__name:"RichlistComponent",props:{transactions:{type:Array,required:!0},supply:{type:Number,required:!0},divisibility:{type:Number,required:!0}},setup(_){const n=_,d=k(!1),A=()=>{window.innerWidth<1024?d.value=!1:d.value=!0};A(),I(()=>{window.addEventListener("resize",A)}),H(()=>{window.removeEventListener("resize",A)});const h=i=>N.convertToCurrency(i,n.divisibility),v=i=>(i/Math.pow(10,n.divisibility)/n.supply*100).toFixed(n.divisibility);return(i,L)=>{const s=S("router-link"),P=z("tooltip");return t(),o("div",null,[_.transactions.length?(t(),o("div",se,[y(u(K),{value:_.transactions,paginator:!0,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{default:r(()=>[d.value?l("v-if",!0):(t(),b(u(x),{key:0,style:{width:"300px"}},{body:r(({data:c})=>[e("div",oe,[ae,y(s,{to:{name:"ViewAccount",params:{accountParam:c.address.pretty()}},class:"mb-6 uppercase font-bold text-xs text-blue-600 hover:text-blue-primary hover:underline truncate inline-flex w-80"},{default:r(()=>[B((t(),o("span",ie,[m(a(c.address.pretty()),1)])),[[P,c.address.pretty(),void 0,{bottom:!0}]]),m("...")]),_:2},1032,["to"]),e("div",le,[e("div",re,[ne,e("div",de,a(h(c.amount.compact())),1)]),e("div",ce,[ue,e("div",pe,a(v(c.amount.compact()))+"% ",1)])])])]),_:1})),d.value?(t(),b(u(x),{key:1,style:{width:"30px"}})):l("v-if",!0),d.value?(t(),b(u(x),{key:2,field:"ADDRESS",header:"ADDRESS",style:{width:"450px"}},{body:r(({data:c})=>[e("span",null,[y(s,{to:{name:"ViewAccount",params:{accountParam:c.address.pretty()}},class:"uppercase text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:r(()=>[m(a(c.address.pretty()),1)]),_:2},1032,["to"])])]),_:1})):l("v-if",!0),d.value?(t(),b(u(x),{key:3,field:"BALANCE",header:"BALANCE",style:{width:"250px"}},{body:r(({data:c})=>[e("span",ve,a(h(c.amount.compact())),1)]),_:1})):l("v-if",!0),d.value?(t(),b(u(x),{key:4,field:"PERCENTAGE",header:"PERCENTAGE",style:{width:"150px"}},{body:r(({data:c})=>[e("span",_e,a(v(c.amount.compact()))+"%",1)]),_:1})):l("v-if",!0)]),_:1},8,["value"])])):(t(),o("div",te," No record found "))])}}}),he=D(me,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/asset/components/RichlistComponent.vue"]]),be={key:0,class:"ml-10 text-tsm"},ye={key:1},xe={class:"mb-2"},fe={class:"grid grid-cols-2"},ge={class:"grid-cols-1"},we=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," Scoped Metadata Key ",-1),ke={key:0,class:"text-xs"},Ae=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),Ce={key:1,class:"mt-1 text-xs"},$e=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),Pe={class:"grid-cols-1"},Ee=e("div",{class:"uppercase text-xs text-gray-300 font-bold mb-2"}," Current Value ",-1),Ne={class:"text-xs mb-2"},Le={key:0,class:"text-xs"},Me=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," hex ",-1),Re={key:1,class:"mt-1 text-xs"},Se=e("div",{class:"inline-block ml-2 font-semibold text-gray-400"}," utf-8 ",-1),De={class:"text-xs"},Te=R({__name:"MetadataComponent",props:{metadata:{type:Array,required:!0}},setup(_){const n=k(!1),d=()=>{window.innerWidth<1024?n.value=!1:n.value=!0};return d(),I(()=>{window.addEventListener("resize",d)}),H(()=>{window.removeEventListener("resize",d)}),(A,h)=>{const v=S("router-link");return t(),o("div",null,[_.metadata.length==0?(t(),o("div",be," No record found ")):(t(),o("div",ye,[y(u(K),{value:_.metadata,paginator:!1,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{default:r(()=>[n.value?l("v-if",!0):(t(),b(u(x),{key:0,style:{width:"300px"}},{body:r(({data:i})=>[e("div",xe,[e("div",fe,[e("div",ge,[we,i.scopedMetadataKeyHex?(t(),o("div",ke,[y(v,{to:{name:"ViewMetadata",params:{compositeHash:i.compositeHash}},class:"text-blue-600 hover:text-blue-primary uppercase hover:underline"},{default:r(()=>[m(a(i.scopedMetadataKeyHex),1)]),_:2},1032,["to"]),Ae])):l("v-if",!0),i.scopedMetadataKeyUtf8?(t(),o("div",Ce,[m(a(i.scopedMetadataKeyUtf8)+" ",1),$e])):l("v-if",!0)]),e("div",Pe,[Ee,e("div",Ne,a(i.value),1)])])])]),_:1})),n.value?(t(),b(u(x),{key:1,style:{width:"10px"}})):l("v-if",!0),n.value?(t(),b(u(x),{key:2,field:"SCOPED METADATA KEY",header:"SCOPED METADATA KEY",style:{width:"250px"}},{body:r(({data:i})=>[i.scopedMetadataKeyHex?(t(),o("div",Le,[y(v,{to:{name:"ViewMetadata",params:{compositeHash:i.compositeHash}},class:"text-blue-600 hover:text-blue-primary uppercase hover:underline"},{default:r(()=>[m(a(i.scopedMetadataKeyHex),1)]),_:2},1032,["to"]),Me])):l("v-if",!0),i.scopedMetadataKeyUtf8?(t(),o("div",Re,[m(a(i.scopedMetadataKeyUtf8)+" ",1),Se])):l("v-if",!0),l(' <div class="uppercase text-xs pt-1" v-if="data.scopedMetadataKeyUtf8">{{data.scopedMetadataKeyUtf8 + "  (utf-8)"}}</div> ')]),_:1})):l("v-if",!0),n.value?(t(),b(u(x),{key:3,field:"CURRENT VALUE",header:"CURRENT VALUE",style:{width:"150px"}},{body:r(({data:i})=>[e("span",De,a(i.value),1)]),_:1})):l("v-if",!0)]),_:1},8,["value"])]))])}}}),Ve=D(Te,[["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/asset/components/MetadataComponent.vue"]]),p=_=>(X("data-v-cd9ca62c"),_=_(),Z(),_),Ie={key:0,class:"text-gray-500 mb-5 font-bold"},He={class:"text-blue-primary text-md font-bold uppercase"},Ke=p(()=>e("div",{class:"text-txs text-gray-400 font-normal mt-1"},"Asset",-1)),Ue={key:1},ze=p(()=>e("p",{class:"text-gray-500 mb-5 text-sm font-bold"},"Asset Details",-1)),Be=[ze],je={key:2},Fe=p(()=>e("div",{class:"flex justify-center items-center border-gray-400 mt-10 mb-20"},[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-navy-primary mr-2"}),e("span",{class:"text-tsm"},"Fetching Asset Details")],-1)),qe=[Fe],Ge={key:3},Oe={class:"md:grid md:grid-cols-2"},We={class:"filter shadow-xl border border-gray-50 p-5 mb-15 md:mr-2"},Ye=p(()=>e("div",{class:"text-xs font-bold mb-5 ml-2"},"Overview",-1)),Je={class:"txn-div"},Qe={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},Xe=p(()=>e("div",{class:"font-bold col-span-2"},"Asset ID",-1)),Ze={class:"font-bold uppercase"},et={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},tt=p(()=>e("div",{class:"font-bold col-span-2"},"Alias",-1)),st={key:0,class:"font-bold uppercase"},ot={key:0,class:"text-black mr-1 ml-1"},at={key:1,class:"text-black mr-1 ml-1"},it={key:1,class:"font-bold col-span-2"},lt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},rt=p(()=>e("div",{class:"font-bold col-span-2"},"Total Supply",-1)),nt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},dt=p(()=>e("div",{class:"font-bold col-span-2"},"Decimals",-1)),ct={class:"filter shadow-xl border border-gray-50 p-5 mb-15 sm:ml-2"},ut=p(()=>e("div",{class:"text-xs font-bold mb-5 ml-2"},"More Info",-1)),pt={class:"txn-div"},vt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},_t=p(()=>e("div",{class:"font-bold col-span-2"},"Creator Address",-1)),mt={class:"break-all uppercase col-span-3"},ht={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},bt=p(()=>e("div",{class:"font-bold col-span-2"},"Block",-1)),yt={class:"col-span-3"},xt={class:"py-4 text-xs grid grid-cols-5 border-b border-gray-100"},ft=p(()=>e("div",{class:"font-bold col-span-2"},"Expiry",-1)),gt={class:"col-span-3"},wt={class:"py-4 text-xs grid grid-cols-4 border-b border-gray-100"},kt=p(()=>e("div",null,"Supply Mutable",-1)),At={class:"font-bold text-green-600 w-24 ml-10"},Ct=p(()=>e("div",null,"Transferable",-1)),$t={class:"font-bold text-green-600 w-24 ml-5"},Pt={class:"filter shadow-xl border border-gray-50 p-5 mb-15"},Et={class:"flex items-center mb-4 border-b border-gray-100 relative"},Nt={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},Lt={key:0,class:"absolute w-full border-b border-yellow-500 transition-all duration-200",style:{bottom:"-1px"}},Mt={key:4},Rt={class:"p-3 bg-yellow-100 text-yellow-700"},St=R({__name:"ViewAsset",props:{id:{type:String,required:!0}},setup(_){const n=_,d=W(),A=d==null?void 0:d.appContext.config.globalProperties.emitter,h=k("rich"),v=k(!1),i=k([]),L=k([]),s=k(null),P=f=>{h.value=f},c=j(()=>F.chainNetworkName),M=async()=>{try{if(!Y.isReady&&!c.value){setTimeout(M,1e3);return}const f=await ee.getAssetMetadata(n.id);L.value=f;const g=await E.getAssetProperties(n.id),$=await E.getRichList(n.id);if(g){v.value=!1,s.value=g,i.value=$;return}else{let C=new J.NamespaceId(n.id.toLowerCase());const w=await Q.fetchNamespaceInfo(C.toHex());if(w)if(v.value=!1,w.alias.type==1){const T=await E.getAssetProperties(w.alias.id),U=await E.getRichList(w.alias.id);T&&(s.value=T,i.value=U)}else s.value=null,v.value=!0;else s.value=null,v.value=!0}}catch(f){s.value=null,v.value=!0,console.log(f)}};return M(),A.on("CHANGE_NETWORK",f=>{f&&(s.value=null,v.value=!1,M())}),(f,g)=>{const $=S("router-link");return t(),o("div",null,[s.value&&s.value.name?(t(),o("div",Ie,[e("div",He,a(s.value.name),1),Ke])):(t(),o("div",Ue,[...Be])),!v.value&&!s.value?(t(),o("div",je,[...qe])):s.value?(t(),o("div",Ge,[e("div",Oe,[e("div",We,[Ye,e("div",Je,[e("div",Qe,[Xe,e("div",Ze,a(s.value.assetId),1)]),e("div",et,[tt,s.value.namespaceId.length>0?(t(),o("div",st,[(t(!0),o(q,null,G(s.value.namespaceId,(C,w)=>(t(),o("div",{key:w,class:"inline-block"},[y($,{to:{name:"ViewNamespace",params:{namespaceParam:C.name}},class:"text-xs font-semibold text-blue-600 col-span-3 hover:text-blue-primary uppercase hover:underline"},{default:r(()=>[m(a(C.name),1)]),_:2},1032,["to"]),s.value.namespaceId.length>1&&w!=s.value.namespaceId.length-1?(t(),o("span",ot,a("/"))):(t(),o("span",at,a("")))]))),128))])):(t(),o("div",it,"-"))]),e("div",lt,[rt,e("div",null,a(u(N).toCurrencyFormat(s.value.supply,s.value.divisibility)=="NaN"?"":u(N).toCurrencyFormat(s.value.supply,s.value.divisibility)),1)]),e("div",nt,[dt,e("div",null,a(s.value.divisibility),1)])])]),e("div",ct,[ut,e("div",pt,[e("div",vt,[_t,e("div",mt,[y($,{to:{name:"ViewAccount",params:{accountParam:s.value.owner}},class:"uppercase text-blue-600 hover:text-blue-primary hover:underline inline-flex"},{default:r(()=>[m(a(u(N).createAddress(s.value.owner).pretty()),1)]),_:1},8,["to"])])]),e("div",ht,[bt,e("div",yt,[y($,{to:{name:"ViewBlock",params:{blockHeight:s.value.height}},class:"truncate inline-block break-all text-blue-600 hover:text-blue-primary hover:underline"},{default:r(()=>[m(a(s.value.height),1)]),_:1},8,["to"])])]),e("div",xt,[ft,e("div",gt,a(s.value.expiry==0?"NIL":s.value.expiry),1)]),e("div",wt,[kt,e("div",At,a(s.value.supplyMutable),1),Ct,e("div",$t,a(s.value.transferable),1)])])])]),e("div",Pt,[e("div",Et,[e("div",{class:V(["w-32 font-bold text-xs text-center p-2 relative",`${h.value=="rich"?"":"cursor-pointer"}`]),onClick:g[0]||(g[0]=C=>P("rich"))},[m(" Richlist "),h.value=="rich"?(t(),o("div",Nt)):l("v-if",!0)],2),e("div",{class:V(["w-32 font-bold text-xs text-center p-2 relative",`${h.value=="metadata"?"":"cursor-pointer"}`]),onClick:g[1]||(g[1]=C=>P("metadata"))},[m(" Metadata "),h.value=="metadata"?(t(),o("div",Lt)):l("v-if",!0)],2)]),y(O,{name:"slide"},{default:r(()=>[h.value=="rich"?(t(),b(he,{key:0,transactions:i.value,supply:s.value.supply,divisibility:s.value.divisibility},null,8,["transactions","supply","divisibility"])):h.value=="metadata"?(t(),b(Ve,{key:1,metadata:L.value},null,8,["metadata"])):l("v-if",!0)]),_:1})])])):(t(),o("div",Mt,[e("div",Rt," Asset is not available in "+a(c.value),1)]))])}}});const Ht=D(St,[["__scopeId","data-v-cd9ca62c"],["__file","/home/runner/work/web-explorer-vuejs/web-explorer-vuejs/src/modules/asset/views/ViewAsset.vue"]]);export{Ht as default};
